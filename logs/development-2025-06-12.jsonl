{"timestamp": "2025-06-12T12:55:10.545509", "level": "INFO", "message": "\u001b[2m2025-06-12T12:55:10.545419Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T12:55:11.735747", "level": "INFO", "message": "\u001b[2m2025-06-12T12:55:11.735654Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T12:55:12.373725", "level": "INFO", "message": "\u001b[2m2025-06-12T12:55:12.373653Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T12:55:12.788272", "level": "INFO", "message": "\u001b[2m2025-06-12T12:55:12.788187Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T12:55:12.846745", "level": "INFO", "message": "\u001b[2m2025-06-12T12:55:12.846668Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.181504", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.200973", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.214488", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.227701", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.246227", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.250008", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.267422", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.270193", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.287580", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.299156", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.346301", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.350360", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.372999", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T12:58:53.749510", "level": "INFO", "message": "\u001b[2m2025-06-12T12:58:53.749220Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T12:58:53.718888+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T12:59:10.020268", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:10.019826Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T12:59:10.101649", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:10.101537Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/app/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-12T12:59:10.118170", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:10.118080Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T12:59:10.117664+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T12:59:10.123163", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:10.123072Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T12:59:10.117664+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/app/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-12T12:59:44.433367", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:44.431589Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T12:59:44.488881", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:44.488494Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T12:59:44.516413", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:44.516220Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T12:59:44.691170", "level": "INFO", "message": "\u001b[2m2025-06-12T12:59:44.690473Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.149736", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.152362", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.266352", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.270890", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xea67ccbe6510>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.280942", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.285142", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.297763", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.302670", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:45.315459", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T12:59:58.583713", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T12:59:58.683969", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T12:59:58.925428", "level": "DEBUG", "message": "2 retries left", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1587, "environment": "development"}
{"timestamp": "2025-06-12T12:59:58.962108", "level": "INFO", "message": "Retrying request to /chat/completions in 0.469714 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-12T12:59:59.446121", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T12:59:59.483587", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:05.338499", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:05.363983", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:05.368997", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.237049", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.246103", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xea67c3590550>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.261172", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.264357", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.280502", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.284518", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.303064", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.553080", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"gxw97x9pq97b\"'), (b'Content-Length', b'263'), (b'Date', b'Thu, 12 Jun 2025 13:00:06 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.585033", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.597655", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.623307", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:06.625910", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:11.550342", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:11.555934", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:00:11.588537", "level": "DEBUG", "message": "1 retry left", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1585, "environment": "development"}
{"timestamp": "2025-06-12T13:00:11.597634", "level": "INFO", "message": "Retrying request to /chat/completions in 0.796972 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-12T13:00:12.435361", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:00:12.445853", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:24.732706", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:24.746824", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:00:24.804862", "level": "DEBUG", "message": "Raising connection error", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1533, "environment": "development"}
{"timestamp": "2025-06-12T13:00:24.856310", "level": "ERROR", "message": "\u001b[2m2025-06-12T13:00:24.855758Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Connection error.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:00:24.984889", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:00:24.991750", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.227193", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.230394", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.249670", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.270423", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xea67c3591e50>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.286262", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.289688", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.306367", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.319901", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.332751", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.456447", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"k4f2yqda3o41\"'), (b'Content-Length', b'145'), (b'Date', b'Thu, 12 Jun 2025 13:00:25 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.470177", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.474800", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.494961", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:25.498225", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:00:37.082897", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:37.090579", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:00:37.163994", "level": "DEBUG", "message": "2 retries left", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1587, "environment": "development"}
{"timestamp": "2025-06-12T13:00:37.167133", "level": "INFO", "message": "Retrying request to /chat/completions in 0.467930 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-12T13:00:37.676075", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:00:37.687663", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:49.748173", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:00:49.756677", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:00:49.787143", "level": "DEBUG", "message": "1 retry left", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1585, "environment": "development"}
{"timestamp": "2025-06-12T13:00:49.799055", "level": "INFO", "message": "Retrying request to /chat/completions in 0.839042 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-12T13:00:50.667377", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:00:50.694194", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:02.772084", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:02.786940", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:01:02.842540", "level": "DEBUG", "message": "Raising connection error", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1533, "environment": "development"}
{"timestamp": "2025-06-12T13:01:02.858938", "level": "ERROR", "message": "\u001b[2m2025-06-12T13:01:02.858421Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Connection error.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:01:02.901606", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:01:02.921452", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.241455", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.245227", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.266052", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.280062", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xea67ccbd3820>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.312076", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.316592", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.339220", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.344249", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.366221", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.481851", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"g3n1bja6ep41\"'), (b'Content-Length', b'145'), (b'Date', b'Thu, 12 Jun 2025 13:01:03 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.508398", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.525896", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.544878", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:03.548810", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:15.028266", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:15.035968", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:01:15.078777", "level": "DEBUG", "message": "2 retries left", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1587, "environment": "development"}
{"timestamp": "2025-06-12T13:01:15.092767", "level": "INFO", "message": "Retrying request to /chat/completions in 0.458897 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-12T13:01:15.583830", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:01:15.596075", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:27.688815", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:27.696643", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:01:27.731422", "level": "DEBUG", "message": "1 retry left", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1585, "environment": "development"}
{"timestamp": "2025-06-12T13:01:27.735209", "level": "INFO", "message": "Retrying request to /chat/completions in 0.889352 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-12T13:01:28.651669", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 12:55:12\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:01:28.663524", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:40.719005", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-5, 'No address associated with hostname'))", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:01:40.733026", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-12T13:01:40.767729", "level": "DEBUG", "message": "Raising connection error", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1533, "environment": "development"}
{"timestamp": "2025-06-12T13:01:40.807736", "level": "ERROR", "message": "\u001b[2m2025-06-12T13:01:40.807234Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Connection error.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:01:40.861637", "level": "ERROR", "message": "\u001b[2m2025-06-12T13:01:40.861188Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/app/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T13:01:40.885333", "level": "ERROR", "message": "\u001b[2m2025-06-12T13:01:40.864590Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m\nTraceback (most recent call last):\n  File \"/app/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/app/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/app/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/app/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/app/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/app/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'cea2be5d-0a8d-c4ca-f74d-30ed23ad2b84'", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.209313", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.217362", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.228519", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.247488", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xea67ccbd2520>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.267100", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.287793", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.304648", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.311968", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.340741", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.782986", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"162xos1gylt7b\"'), (b'Content-Length', b'263'), (b'Date', b'Thu, 12 Jun 2025 13:01:41 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.806623", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.810260", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.825702", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:01:41.829019", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:06:03.483642", "level": "INFO", "message": "\u001b[2m2025-06-12T13:06:03.468472Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T13:06:38.542125", "level": "INFO", "message": "\u001b[2m2025-06-12T13:06:38.542036Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:06:41.099633", "level": "INFO", "message": "\u001b[2m2025-06-12T13:06:41.099048Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:06:42.536404", "level": "INFO", "message": "\u001b[2m2025-06-12T13:06:42.535634Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:06:43.369393", "level": "INFO", "message": "\u001b[2m2025-06-12T13:06:43.368841Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:06:43.546057", "level": "INFO", "message": "\u001b[2m2025-06-12T13:06:43.545973Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:18:42.493021", "level": "INFO", "message": "\u001b[2m2025-06-12T13:18:42.490843Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:18:42.711857", "level": "INFO", "message": "\u001b[2m2025-06-12T13:18:42.711692Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:18:42.756274", "level": "INFO", "message": "\u001b[2m2025-06-12T13:18:42.756170Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T13:18:42.913500", "level": "INFO", "message": "\u001b[2m2025-06-12T13:18:42.913304Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T13:18:43.604156", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:46.183780", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xebc6f3d9d940>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:46.570136", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:46.758048", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:46.848965", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:46.991124", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:47.150001", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:47.568420", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:06:43\\n\", 'role': 'system'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}, {'content': 'como seria una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:19:47.645331", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.165260", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"15bc4yryq7s5o\"'), (b'Content-Length', b'204'), (b'Date', b'Thu, 12 Jun 2025 13:19:48 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.190106", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.216893", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xebc6f3d9f0e0>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.255893", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.264085", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0xebc6f3f1fd10> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.382255", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.444031", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.603886", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xebc6f3d98b90>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.632115", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.656324", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.695803", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.703670", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.753510", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:48.957806", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.014321", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.035191", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.082235", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.083994", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.154463", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"vh380d18iu2e\"'), (b'Content-Length', b'86'), (b'Date', b'Thu, 12 Jun 2025 13:19:49 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.194274", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.273504", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.320358", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:49.380492", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.253191", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Thu, 12 Jun 2025 13:19:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=4a602f32-c6d7-4179-9001-036174073b3d; Max-Age=1033404418; Expires=Tue, 12 Mar 2058 06:06:46 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=RjO85pfykK1uSs6qaZfPFftWhcJd2DXB1WMJXyohe5w%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684ad3f4748414c766ee10953480bb61'), (b'X-Saia-Req-Id', b'c578b3e9-3e74-4967-98d4-944dd380920e'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.394927", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.407197", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.435215", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.452061", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.486584", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.596705", "level": "INFO", "message": "\u001b[2m2025-06-12T13:19:58.594144Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T13:19:58.912827", "level": "INFO", "message": "\u001b[2m2025-06-12T13:19:58.911422Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_processed        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.081982", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.138819", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.146993", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.214151", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xebc6f3d95d10>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.232174", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.283757", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.287324", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.345090", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.356252", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.592405", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"1jp7h34cw5al\"'), (b'Content-Length', b'381'), (b'Date', b'Thu, 12 Jun 2025 13:19:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.618714", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.663626", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.681532", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:19:59.729674", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:56:46.294055", "level": "INFO", "message": "\u001b[2m2025-06-12T14:56:46.279904Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T14:57:07.883597", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:07.883468Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T14:57:09.455476", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:09.455308Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T14:57:11.054010", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:11.052223Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T14:57:12.186999", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:12.186787Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T14:57:12.422083", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:12.421992Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T14:57:22.358971", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:22.357510Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m9be361ce-edb2-4a6f-91ad-797ca277be52\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:57:22.454334", "level": "ERROR", "message": "\u001b[2m2025-06-12T14:57:22.453952Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m172.19.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'What is the weather in Tokyo?'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/app/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.087029", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.119800", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.131260", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.156727", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.159026", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.186542", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.189153", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.198529", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.200746", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.218802", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.227030", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.244230", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.246154", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T14:57:52.601855", "level": "INFO", "message": "\u001b[2m2025-06-12T14:57:52.601297Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T14:57:52.595540+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T14:58:15.056678", "level": "INFO", "message": "\u001b[2m2025-06-12T14:58:15.055305Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:58:15.134317", "level": "INFO", "message": "\u001b[2m2025-06-12T14:58:15.134201Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/app/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-12T14:58:15.140448", "level": "INFO", "message": "\u001b[2m2025-06-12T14:58:15.140230Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T14:58:15.137444+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T14:58:15.174923", "level": "INFO", "message": "\u001b[2m2025-06-12T14:58:15.174821Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T14:58:15.137444+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/app/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-12T14:58:49.889473", "level": "INFO", "message": "\u001b[2m2025-06-12T14:58:49.887298Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:58:49.987135", "level": "ERROR", "message": "\u001b[2m2025-06-12T14:58:49.986957Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m172.19.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'What is the weather in Tokyo?'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/app/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T14:59:15.099524", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:15.098389Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:59:15.211942", "level": "ERROR", "message": "\u001b[2m2025-06-12T14:59:15.211622Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m172.19.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'What is the weather in Tokyo?'}]}, {'type': 'string_type', 'loc': ('body', 'messages', 1, 'content'), 'msg': 'Input should be a valid string', 'input': []}, {'type': 'string_type', 'loc': ('body', 'messages', 2, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'ljkhklj'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/app/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T14:59:26.450481", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:26.448950Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:59:26.503186", "level": "ERROR", "message": "\u001b[2m2025-06-12T14:59:26.503017Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1msession_not_found             \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_current_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m130\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "get_current_session", "filename": "/app/app/api/v1/auth.py", "line": 130, "environment": "development"}
{"timestamp": "2025-06-12T14:59:38.678162", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:38.677711Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:59:38.716877", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:38.716771Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T14:59:38.725538", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:38.725453Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T14:59:38.848824", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:38.848717Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.046040", "level": "DEBUG", "message": "Starting new HTTPS connection (1): openaipublic.blob.core.windows.net:443", "module": "connectionpool", "function": "_new_conn", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 1049, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.416987", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.425222", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xf3290fbf78c0>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.453113", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.456027", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.493879", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.497506", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:39.511829", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:40.385767", "level": "DEBUG", "message": "https://openaipublic.blob.core.windows.net:443 \"GET /encodings/o200k_base.tiktoken HTTP/1.1\" 200 3613922", "module": "connectionpool", "function": "_make_request", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 544, "environment": "development"}
{"timestamp": "2025-06-12T14:59:41.153996", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"8t56ctxmsg5o\"'), (b'Content-Length', b'204'), (b'Date', b'Thu, 12 Jun 2025 14:59:41 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:41.157613", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:41.178061", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:41.180820", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:41.202320", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.281046", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 14:57:11\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.307277", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.721509", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xf3290fb30980>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.743710", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.745625", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0xf32911c95f40> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.749016", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.772884", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.789108", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.792696", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.861609", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"kj6xo97hqw2e\"'), (b'Content-Length', b'86'), (b'Date', b'Thu, 12 Jun 2025 14:59:42 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.864687", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.903214", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.905752", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.943779", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:42.976502", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xf3290fbcbd90>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:43.023286", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:43.029475", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:43.055215", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:43.060278", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:43.075736", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.444880", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Thu, 12 Jun 2025 14:59:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=8211ffd6-cb17-4988-ba4d-7ca9df5f88b1; Max-Age=1033398424; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=PTJkedZI53tbPkEwwbmO5Le9AKQTWwkM%2BUUYUKJJTmQ%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684aeb5fc674aec43068bb1b60edbda9'), (b'X-Saia-Req-Id', b'68d459ad-b298-41cd-b123-92ab3a4a6521'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.482883", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.487989", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.511070", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.516411", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.539475", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.557675", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:44.557434Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.619857", "level": "INFO", "message": "\u001b[2m2025-06-12T14:59:44.619760Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_processed        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.956053", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.987648", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:44.990969", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.063509", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.068066", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.145966", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"46ouqf88xfal\"'), (b'Content-Length', b'381'), (b'Date', b'Thu, 12 Jun 2025 14:59:45 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.160716", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.183595", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.190411", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:59:45.262714", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:15:03.786214", "level": "INFO", "message": "\u001b[2m2025-06-12T15:15:03.749158Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T15:57:53.717750", "level": "INFO", "message": "\u001b[2m2025-06-12T15:57:53.717623Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T15:57:55.857680", "level": "INFO", "message": "\u001b[2m2025-06-12T15:57:55.857541Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T15:57:57.061738", "level": "INFO", "message": "\u001b[2m2025-06-12T15:57:57.061645Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T15:57:58.248213", "level": "INFO", "message": "\u001b[2m2025-06-12T15:57:58.248024Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T15:57:58.406452", "level": "INFO", "message": "\u001b[2m2025-06-12T15:57:58.406375Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.295529", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.322302", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.325102", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.348590", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.356704", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.370601", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.373764", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.383776", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.387910", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.404298", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.406992", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.425306", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.430457", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T15:58:22.780071", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:22.779445Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T15:58:22.760064+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T15:58:34.121695", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:34.120619Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T15:58:34.206313", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:34.206209Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/app/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-12T15:58:34.208907", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:34.208783Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T15:58:34.208270+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T15:58:34.235650", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:34.235492Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T15:58:34.208270+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/app/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-12T15:58:58.497600", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:58.496848Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T15:58:58.559833", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:58.559686Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T15:58:58.565529", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:58.565430Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T15:58:58.670497", "level": "INFO", "message": "\u001b[2m2025-06-12T15:58:58.670234Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T15:58:58.849204", "level": "DEBUG", "message": "Starting new HTTPS connection (1): openaipublic.blob.core.windows.net:443", "module": "connectionpool", "function": "_new_conn", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 1049, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.229958", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.233895", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xe69d633ef8c0>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.290124", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.296608", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.327141", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.330388", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:58:59.372525", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:00.084060", "level": "DEBUG", "message": "https://openaipublic.blob.core.windows.net:443 \"GET /encodings/o200k_base.tiktoken HTTP/1.1\" 200 3613922", "module": "connectionpool", "function": "_make_request", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 544, "environment": "development"}
{"timestamp": "2025-06-12T15:59:00.927221", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"11gnsbkmokz5o\"'), (b'Content-Length', b'204'), (b'Date', b'Thu, 12 Jun 2025 15:59:00 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:00.935053", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:00.958000", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:00.964600", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:00.984159", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:07.873699", "level": "ERROR", "message": "\u001b[2m2025-06-12T15:59:07.870361Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: 1 validation error for Message\ncontent\n  Input should be a valid list [type=list_type, input_value=\"# Name: Web Assistant Ag...\\n2025-06-12 15:57:57\\n\", input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/app/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T15:59:07.938267", "level": "ERROR", "message": "\u001b[2m2025-06-12T15:59:07.911841Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'1 validation error for Message\\ncontent\\n  Input should be a valid list [type=list_type, input_value=\"# Name: Web Assistant Ag...\\\\n2025-06-12 15:57:57\\\\n\", input_type=str]\\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m\nTraceback (most recent call last):\n  File \"/app/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/app/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/app/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/app/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/app/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/app/app/core/langgraph/graph.py\", line 132, in _chat\n    messages = prepare_messages(state.messages, self.llm, SYSTEM_PROMPT)\n  File \"/app/app/utils/graph.py\", line 43, in prepare_messages\n    return [Message(role=\"system\", content=system_prompt)] + trimmed_messages\n            ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 243, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 1 validation error for Message\ncontent\n  Input should be a valid list [type=list_type, input_value=\"# Name: Web Assistant Ag...\\n2025-06-12 15:57:57\\n\", input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type\nDuring task with name 'chat' and id '5f7a6661-542a-53b7-0bd2-0cda0de57441'", "module": "chatbot", "function": "chat", "filename": "/app/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.001318", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.036095", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.041067", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.082260", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xe69d63338050>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.088453", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.116282", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.119946", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.134694", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.136767", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.245217", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"m9ddge680w5o\"'), (b'Content-Length', b'204'), (b'Date', b'Thu, 12 Jun 2025 15:59:08 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.248255", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.275418", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.277877", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T15:59:08.290916", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:04.917310", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:04.913717Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:09:08.918842", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:09:08.918632Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) could not translate host name \"postgres\" to address: nodename nor servname provided, or not known\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-12T13:09:33.798492", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:33.797428Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:09:34.917632", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:34.917542Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:09:39.467699", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:39.467628Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:09:41.724554", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:41.724410Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:09:41.757034", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:41.756967Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:09:47.416478", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:47.416265Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:09:47.467768", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:47.467693Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:09:47.509637", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:47.509548Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T13:09:47.571462", "level": "INFO", "message": "\u001b[2m2025-06-12T16:09:47.571383Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.115520", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:09:48.115133Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: 4 validation errors for Message\ncontent.0.TextContent\n  Input should be a valid dictionary or instance of TextContent [type=model_type, input_value=('type', 'text'), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ncontent.0.ImageContent\n  Input should be a valid dictionary or instance of ImageContent [type=model_type, input_value=('type', 'text'), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ncontent.1.TextContent\n  Input should be a valid dictionary or instance of TextContent [type=model_type, input_value=('text', \"# Name: Web Ass...n2025-06-12 13:09:40\\n\"), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ncontent.1.ImageContent\n  Input should be a valid dictionary or instance of ImageContent [type=model_type, input_value=('text', \"# Name: Web Ass...n2025-06-12 13:09:40\\n\"), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.144388", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.160010", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:09:48.128080Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'4 validation errors for Message\\ncontent.0.TextContent\\n  Input should be a valid dictionary or instance of TextContent [type=model_type, input_value=(\\'type\\', \\'text\\'), input_type=tuple]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\\ncontent.0.ImageContent\\n  Input should be a valid dictionary or instance of ImageContent [type=model_type, input_value=(\\'type\\', \\'text\\'), input_type=tuple]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\\ncontent.1.TextContent\\n  Input should be a valid dictionary or instance of TextContent [type=model_type, input_value=(\\'text\\', \"# Name: Web Ass...n2025-06-12 13:09:40\\\\n\"), input_type=tuple]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\\ncontent.1.ImageContent\\n  Input should be a valid dictionary or instance of ImageContent [type=model_type, input_value=(\\'text\\', \"# Name: Web Ass...n2025-06-12 13:09:40\\\\n\"), input_type=tuple]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 132, in _chat\n    messages = prepare_messages(state.messages, self.llm, SYSTEM_PROMPT)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/graph.py\", line 46, in prepare_messages\n    return [Message(role=\"system\", content=TextContent(text=system_prompt))] + trimmed_messages\n            ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 243, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 4 validation errors for Message\ncontent.0.TextContent\n  Input should be a valid dictionary or instance of TextContent [type=model_type, input_value=('type', 'text'), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ncontent.0.ImageContent\n  Input should be a valid dictionary or instance of ImageContent [type=model_type, input_value=('type', 'text'), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ncontent.1.TextContent\n  Input should be a valid dictionary or instance of TextContent [type=model_type, input_value=('text', \"# Name: Web Ass...n2025-06-12 13:09:40\\n\"), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\ncontent.1.ImageContent\n  Input should be a valid dictionary or instance of ImageContent [type=model_type, input_value=('text', \"# Name: Web Ass...n2025-06-12 13:09:40\\n\"), input_type=tuple]\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\nDuring task with name 'chat' and id '5530aa38-6a75-2ab1-c2d9-4a05417a300b'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.176705", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1134e70e0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.239608", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.241297", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.251492", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.252254", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.261118", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.339010", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:09:48 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.363367", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.364565", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.376530", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:09:48.377751", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:43.575829", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:43.574994Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T13:17:45.040134", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:45.036832Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:17:45.700714", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:45.700602Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:17:46.811480", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:46.811400Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:17:47.382912", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:47.382821Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:17:47.420137", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:47.420037Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:17:51.935704", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:51.935480Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:17:51.977244", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:51.977170Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.013793", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:52.013718Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.079760", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:52.079681Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.656489", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.661548", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x116d4de80>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.714090", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.717144", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.732531", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.733496", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.752832", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.816838", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:17:53 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.829904", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.830873", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.838981", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': [{'type': 'text', 'text': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:17:47\\n\"}], 'role': 'system'}, {'content': [{'type': 'text', 'text': 'something here'}], 'role': 'user'}, {'content': [{'type': 'text', 'text': 'something here'}], 'role': 'user'}, {'content': [{'type': 'text', 'text': 'something here'}], 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.847294", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.849197", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:52.861496", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.271598", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x116d4f230>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.273832", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1168ec290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.551907", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x116d69310>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.559778", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.599613", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.603935", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.678927", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:53.679486", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.846489", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Thu, 12 Jun 2025 16:17:55 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=e77d839d-cee3-4adb-bfd0-54d7e0786dbd; Max-Age=1033393733; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=1IDVOY8wGFkW9X%2FzkKyhF68u1T8sfLtm%2FJ5raJzOnbg%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684afdb276e0278eab10e47ce0fa720a'), (b'X-Saia-Req-Id', b'b0f59378-bb4f-4b7f-b4d5-4247aff70d86'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.850184", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.883244", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.884127", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.896026", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.898769", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.935132", "level": "INFO", "message": "\u001b[2m2025-06-12T16:17:54.934951Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T13:17:54.981899", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:17:54.981831Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: 1 validation error for Message\ncontent\n  Input should be a valid list [type=list_type, input_value='something here', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.009829", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:17:55.006510Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m\"1 validation error for Message\\ncontent\\n  Input should be a valid list [type=list_type, input_value='something here', input_type=str]\\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meffde65a-6b41-4198-b64b-a0626e55d363\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 298, in get_response\n    return self.__process_messages(response[\"messages\"])\n           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 362, in __process_messages\n    Message(**message)\n    ~~~~~~~^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 243, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 1 validation error for Message\ncontent\n  Input should be a valid list [type=list_type, input_value='something here', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/list_type", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.396762", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.428464", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.429447", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.455102", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.456080", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.468007", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:17:55 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.469650", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.478848", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.479668", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:17:55.488664", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:26:46.004358", "level": "INFO", "message": "\u001b[2m2025-06-12T16:26:46.002044Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T13:26:48.330639", "level": "INFO", "message": "\u001b[2m2025-06-12T16:26:48.324470Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:26:49.239997", "level": "INFO", "message": "\u001b[2m2025-06-12T16:26:49.239718Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:26:50.507107", "level": "INFO", "message": "\u001b[2m2025-06-12T16:26:50.507023Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:26:51.060194", "level": "INFO", "message": "\u001b[2m2025-06-12T16:26:51.060092Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:26:51.147837", "level": "INFO", "message": "\u001b[2m2025-06-12T16:26:51.147769Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:27:37.280012", "level": "INFO", "message": "\u001b[2m2025-06-12T16:27:37.279627Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T13:27:38.858834", "level": "INFO", "message": "\u001b[2m2025-06-12T16:27:38.858006Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:28:04.838850", "level": "INFO", "message": "\u001b[2m2025-06-12T16:28:04.838115Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:28:05.591163", "level": "INFO", "message": "\u001b[2m2025-06-12T16:28:05.591072Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:28:06.408365", "level": "INFO", "message": "\u001b[2m2025-06-12T16:28:06.408279Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:28:06.918188", "level": "INFO", "message": "\u001b[2m2025-06-12T16:28:06.918080Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:28:06.949207", "level": "INFO", "message": "\u001b[2m2025-06-12T16:28:06.949138Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:41:05.134204", "level": "INFO", "message": "\u001b[2m2025-06-12T16:41:05.133171Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:41:05.215399", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:41:05.215308Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'What is the weather in Tokyo?'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T13:43:14.471130", "level": "INFO", "message": "\u001b[2m2025-06-12T16:43:14.469949Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:43:14.520409", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:43:14.520211Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'What is the weather in Tokyo?'}]}, {'type': 'string_type', 'loc': ('body', 'messages', 1, 'content'), 'msg': 'Input should be a valid string', 'input': []}, {'type': 'string_type', 'loc': ('body', 'messages', 2, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'asdasda'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T13:43:32.076677", "level": "INFO", "message": "\u001b[2m2025-06-12T16:43:32.075680Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:43:32.189969", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:43:32.189773Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'What is the weather in Tokyo?'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T13:48:03.323659", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:03.323401Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:48:03.391402", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:03.391255Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:48:03.451185", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:03.450953Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T13:48:03.578080", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:03.577991Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.230745", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.233329", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x13b1fcd70>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.245529", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.267049", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.269385", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.278546", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.292674", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.293540", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.311212", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.352193", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:04 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.374932", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.375904", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.403102", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.404209", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.696439", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13b1fe120>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:04.697543", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11f448290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:05.318776", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x138a91810>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:05.324320", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:05.363899", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:05.364969", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:05.399275", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:05.401179", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.929639", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Thu, 12 Jun 2025 16:48:07 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=d6a23edf-23c6-4799-b81b-ec1a44751ee3; Max-Age=1033391921; Expires=Tue, 12 Mar 2058 06:06:46 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=GOpKvHqypEMSvaInzYRsGxGwt1eEIQNq6e1E%2FB7eF5E%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b04c59be7ba40868e88b5f0648914'), (b'X-Saia-Req-Id', b'47f01473-3c63-4052-b834-8fa3f10bed55'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.932191", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.960446", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.961359", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.970363", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.972460", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:48:06.996157", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:06.995986Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.028154", "level": "DEBUG", "message": "Loaded CA certs", "module": "utils", "function": null, "filename": "src/utils.rs", "line": 31, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.054265", "level": "DEBUG", "message": "starting new connection: https://html.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.055284", "level": "DEBUG", "message": "resolving html.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.283764", "level": "DEBUG", "message": "connecting to 52.250.42.157:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.444293", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.481159", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.484777", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.509417", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.511195", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.521792", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:07 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.525062", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.534372", "level": "DEBUG", "message": "connected to 52.250.42.157:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.538022", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.553020", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.558435", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:07.798612", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://html.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-12T13:48:08.565324", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T13:48:08.600561", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T13:48:08.602940", "level": "INFO", "message": "response: https://html.duckduckgo.com/html 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-12T13:48:08.617516", "level": "DEBUG", "message": "_get_url() https://html.duckduckgo.com/html 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-12T13:48:08.620328", "level": "INFO", "message": "Error to search using html backend: https://html.duckduckgo.com/html 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-12T13:48:09.388175", "level": "DEBUG", "message": "starting new connection: https://lite.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-12T13:48:09.388978", "level": "DEBUG", "message": "resolving lite.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-12T13:48:09.682732", "level": "DEBUG", "message": "connecting to 52.250.42.157:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-12T13:48:09.940772", "level": "DEBUG", "message": "connected to 52.250.42.157:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-12T13:48:10.240757", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://lite.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.034402", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.088802", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.089599", "level": "INFO", "message": "response: https://lite.duckduckgo.com/lite/ 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.126249", "level": "DEBUG", "message": "_get_url() https://lite.duckduckgo.com/lite/ 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.127134", "level": "INFO", "message": "Error to search using lite backend: https://lite.duckduckgo.com/lite/ 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.149685", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:11.149611Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: https://lite.duckduckgo.com/lite/ 202 Ratelimit\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.184859", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:11.150285Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'https://lite.duckduckgo.com/lite/ 202 Ratelimit'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 186, in _tool_call\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 523, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 887, in arun\n    raise error_to_raise\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 856, in arun\n    response = await coro_with_context(coro, context)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 638, in _arun\n    return await run_in_executor(None, self._run, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 616, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 607, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/tools/ddg_search/tool.py\", line 112, in _run\n    raw_results = self.api_wrapper.results(\n        query, self.max_results, source=self.backend\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 146, in results\n    for r in self._ddgs_text(query, max_results=max_results)\n             ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 64, in _ddgs_text\n    ddgs_gen = ddgs.text(\n        query,\n    ...<4 lines>...\n        backend=self.backend,\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py\", line 184, in text\n    raise DuckDuckGoSearchException(err)\nduckduckgo_search.exceptions.DuckDuckGoSearchException: https://lite.duckduckgo.com/lite/ 202 Ratelimit\nDuring task with name 'tool_call' and id 'e1423884-d47f-d9bf-024c-8332f4b0d535'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.602976", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.603943", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.641491", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.642367", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.651953", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.653184", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:11 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.663297", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.664123", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.673341", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:11.674071", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:46.914675", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:46.914280Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:48:47.009753", "level": "INFO", "message": "\u001b[2m2025-06-12T16:48:47.009654Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.196302", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_aQolgMtEWjx3EsGgwRqjmg1X', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"current weather in Tokyo\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.204176", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.226020", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.311334", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.317208", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x139403610>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.349160", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.352733", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.443954", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.506734", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.507920", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.535705", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.547340", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:48 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.563051", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.564022", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.590741", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.602164", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.623736", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x139402fd0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.630260", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11f448290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.844139", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x139440d60>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.856324", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.925125", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.925966", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.967098", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:48.967725", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.570582", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Thu, 12 Jun 2025 16:48:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b04f13f632c734316d201b12c3cb9'), (b'X-Saia-Req-Id', b'15f27036-f8f9-4ff7-96f2-49511778c5a6'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.574595", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.624126", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.625735", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.641510", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.642275", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.653598", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.685386", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.696631", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.699909", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:50.699458Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_aQolgMtEWjx3EsGgwRqjmg1X. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[5].role\\'}, \\'requestId\\': \\'15f27036-f8f9-4ff7-96f2-49511778c5a6\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.750533", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_aQolgMtEWjx3EsGgwRqjmg1X', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"current weather in Tokyo\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.756244", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.778816", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.782290", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.793541", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:50.796106", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.153507", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.154933", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.207034", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.207582", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.217551", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.218181", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:51 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.227667", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.228144", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.237937", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:51.238517", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.288284", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Thu, 12 Jun 2025 16:48:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b04f3ab858d813b0591a971730860'), (b'X-Saia-Req-Id', b'2ce4f147-d2f1-4c18-8b53-4b2e826e1283'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.289997", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.327611", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.328219", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.339875", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.340548", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.351481", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.352496", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.365355", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.367838", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:52.367723Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_aQolgMtEWjx3EsGgwRqjmg1X. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[5].role\\'}, \\'requestId\\': \\'2ce4f147-d2f1-4c18-8b53-4b2e826e1283\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.387886", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_aQolgMtEWjx3EsGgwRqjmg1X', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"current weather in Tokyo\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.389297", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.401443", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.401983", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.414111", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.414624", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.759114", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.762035", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.797255", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.799827", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.814010", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.815657", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:53 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.830997", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.837774", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.851989", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:52.853694", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.611572", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Thu, 12 Jun 2025 16:48:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b04f42e1dd21d5cf2d21ae35543ef'), (b'X-Saia-Req-Id', b'61da8e01-f276-4b96-ba75-cb0c16cb8b57'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.612659", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.647150", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.647724", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.657312", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.657952", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.667582", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.668476", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.677962", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.679513", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:53.679423Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_aQolgMtEWjx3EsGgwRqjmg1X. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[5].role\\'}, \\'requestId\\': \\'61da8e01-f276-4b96-ba75-cb0c16cb8b57\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.765098", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:53.764652Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.775092", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:48:53.768924Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'ccf9d6dc-2119-6815-bda6-ec695384d39b'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.883740", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.889700", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.964862", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:53.967122", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:54.002386", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:54.004403", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:48:54 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:54.017026", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:54.017817", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:54.032735", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:48:54.033619", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:24.681561", "level": "INFO", "message": "\u001b[2m2025-06-12T16:50:24.681307Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:50:24.758818", "level": "INFO", "message": "\u001b[2m2025-06-12T16:50:24.758698Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:50:24.946328", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_aQolgMtEWjx3EsGgwRqjmg1X', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"current weather in Tokyo\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria hacer una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:50:24.948484", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:24.997112", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.000667", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.360060", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.364308", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x139402fd0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.411841", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.414069", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.463838", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x139429940>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.485042", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.486080", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11f448290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.521944", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.568490", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.569667", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:50:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.582237", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.583036", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.597410", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.598562", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.738145", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x138a8f890>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.738902", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.769782", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.770313", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.785909", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:25.786421", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.061941", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Thu, 12 Jun 2025 16:50:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b0552fca32b1a0460b428b9b3f0f4'), (b'X-Saia-Req-Id', b'f0c064b7-81bb-4006-a624-3aaa0702e1ef'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.065808", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.121352", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.138582", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.173367", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.176376", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.198476", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.204969", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.221826", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.225947", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:50:27.225864Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_aQolgMtEWjx3EsGgwRqjmg1X. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[5].role\\'}, \\'requestId\\': \\'f0c064b7-81bb-4006-a624-3aaa0702e1ef\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.259860", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_aQolgMtEWjx3EsGgwRqjmg1X', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"current weather in Tokyo\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria hacer una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.262810", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.283241", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.285392", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.325741", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.333604", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.654122", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.705437", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.755696", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.795166", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.899289", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.908533", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:50:28 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.969182", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:27.984302", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.018019", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.021113", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.404513", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Thu, 12 Jun 2025 16:50:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b0553a352e7b0c9b7e5cc72677d8c'), (b'X-Saia-Req-Id', b'3a7e2227-da66-448c-bd97-29ae74d39e5b'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.405576", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.441016", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.441549", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.459066", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.461448", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.476588", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.477449", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.492499", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.495121", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:50:28.494987Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_aQolgMtEWjx3EsGgwRqjmg1X. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[5].role\\'}, \\'requestId\\': \\'3a7e2227-da66-448c-bd97-29ae74d39e5b\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.527187", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:28:06\\n\", 'role': 'system'}, {'content': 'string', 'role': 'user'}, {'content': 'It seems like your message is incomplete or unclear. Could you please provide more context or clarify your question?', 'role': 'assistant'}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_aQolgMtEWjx3EsGgwRqjmg1X', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"current weather in Tokyo\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria hacer una query en mongodb?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.529353", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.546174", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.552084", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.552634", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.570951", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.572086", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.592691", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.593444", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.619276", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.620774", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.646361", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:50:28 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.661162", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.662364", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.679850", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:28.681035", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:29.987171", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Thu, 12 Jun 2025 16:50:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b05558a4bba8236055cc4ebd14f7d'), (b'X-Saia-Req-Id', b'9d4ceb27-803d-462d-8d34-d237a3ccc94c'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:29.988744", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.037509", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.040020", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.054169", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.057023", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.080327", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.082980", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.101942", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.106269", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:50:30.106164Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_aQolgMtEWjx3EsGgwRqjmg1X. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[5].role\\'}, \\'requestId\\': \\'9d4ceb27-803d-462d-8d34-d237a3ccc94c\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.144748", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:50:30.144682Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.154079", "level": "ERROR", "message": "\u001b[2m2025-06-12T16:50:30.152948Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35meaaf0888-1517-4c80-9cef-73143b7521d0\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'c5b283aa-a8a2-4056-1d8d-7639b4c6cd55'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.211992", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.253572", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.315998", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.317107", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.422382", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.423964", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:50:30 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.476716", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.478945", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.506987", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:50:30.507860", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:51:18.766702", "level": "INFO", "message": "\u001b[2m2025-06-12T16:51:18.766226Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T13:52:29.515223", "level": "INFO", "message": "\u001b[2m2025-06-12T16:52:29.514394Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T13:52:30.282518", "level": "INFO", "message": "\u001b[2m2025-06-12T16:52:30.282420Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:52:31.058987", "level": "INFO", "message": "\u001b[2m2025-06-12T16:52:31.058895Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T13:52:31.554919", "level": "INFO", "message": "\u001b[2m2025-06-12T16:52:31.554828Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:52:31.590413", "level": "INFO", "message": "\u001b[2m2025-06-12T16:52:31.590347Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.416340", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.418522", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.455739", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.459393", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.478688", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.483930", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.497425", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.498821", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.513748", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.517568", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.555572", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.563673", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:54.588152", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T13:52:55.006202", "level": "INFO", "message": "\u001b[2m2025-06-12T16:52:55.006035Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T16:52:54.992746+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:53:08.180561", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:08.180263Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:53:08.267079", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:08.266959Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-12T13:53:08.301557", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:08.301422Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T16:53:08.301115+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T13:53:08.302452", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:08.302361Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-12T16:53:08.301115+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-12T13:53:44.471410", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:44.470979Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T13:53:44.569970", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:44.569861Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T13:53:44.646154", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:44.646058Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T13:53:44.872522", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:44.872316Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.354623", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:52:31\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.357168", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.478778", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.480383", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1153dd940>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.526203", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.538029", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.686644", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.688259", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.702818", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.704233", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:53:46 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.746523", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.747533", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.764676", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.766181", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.830828", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1153de660>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:45.836130", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x111048290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:46.063143", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11248f390>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:46.066311", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:46.126816", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:46.128650", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:46.147021", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:46.148646", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.162222", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Thu, 12 Jun 2025 16:53:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=2ef0f184-afa0-4d8c-b791-bd759e7b9769; Max-Age=1033391581; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=2pupNWnxAKMV2CFp34zREsJ50aZuj6xXxLep%2FvlzdDs%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b061a9407718c8187c410ddf3525e'), (b'X-Saia-Req-Id', b'd7cd6ec5-8f96-4c64-a11c-98e9898ff3a6'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.165222", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.231473", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.234416", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.265339", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.268001", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.329929", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:47.329473Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.381910", "level": "INFO", "message": "\u001b[2m2025-06-12T16:53:47.381833Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_processed        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.799036", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.799879", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.833046", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.834006", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.851766", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.852664", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 16:53:48 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.866550", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.867013", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.881190", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T13:53:47.881786", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:17.464890", "level": "INFO", "message": "\u001b[2m2025-06-12T17:18:17.462043Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T14:18:17.567432", "level": "INFO", "message": "\u001b[2m2025-06-12T17:18:17.566819Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-12T14:18:17.830899", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 13:52:31\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T14:18:17.845671", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:17.891411", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:17.897694", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.157800", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.161057", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1124fd090>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.201897", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.202564", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.217390", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.218256", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.232412", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.275729", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 17:18:18 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.292095", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.292600", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.305718", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.306207", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.309550", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1124fda90>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.319319", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x111048290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.541767", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1124e5350>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.544508", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.584726", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.585578", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.600527", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:18.601178", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.399765", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Thu, 12 Jun 2025 17:18:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b0bdbcf76157056f604cd7fa44de2'), (b'X-Saia-Req-Id', b'b29a8418-7b5d-4d41-a0a1-fcda835c3436'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.401424", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.441374", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.442176", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.457505", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.458248", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.475134", "level": "INFO", "message": "\u001b[2m2025-06-12T17:18:19.475058Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.506310", "level": "INFO", "message": "\u001b[2m2025-06-12T17:18:19.506237Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_processed        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.832920", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.836747", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.921693", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.923669", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.939412", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.942545", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Thu, 12 Jun 2025 17:18:20 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.960586", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.966229", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.986728", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:18:19.992254", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T14:33:13.691530", "level": "INFO", "message": "\u001b[2m2025-06-12T17:33:13.686337Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-12T22:54:35.696849", "level": "INFO", "message": "\u001b[2m2025-06-13T01:54:35.695925Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-12T22:54:37.560061", "level": "INFO", "message": "\u001b[2m2025-06-13T01:54:37.559979Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T22:54:40.128835", "level": "INFO", "message": "\u001b[2m2025-06-13T01:54:40.128764Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-12T22:54:41.676603", "level": "INFO", "message": "\u001b[2m2025-06-13T01:54:41.676503Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-12T22:54:41.702427", "level": "INFO", "message": "\u001b[2m2025-06-13T01:54:41.702361Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.391742", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.393484", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.436459", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.441335", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.462469", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.466265", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.488708", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.493237", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.520082", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.527418", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.546107", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.547978", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.570589", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-12T22:55:03.871904", "level": "INFO", "message": "\u001b[2m2025-06-13T01:55:03.871772Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T01:55:03.848991+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T22:56:49.762568", "level": "INFO", "message": "\u001b[2m2025-06-13T01:56:49.761677Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T22:56:49.931384", "level": "INFO", "message": "\u001b[2m2025-06-13T01:56:49.931279Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m86e03cbf-fbb6-4bde-b7d8-bb747ace40c1\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-12T22:56:50.009219", "level": "INFO", "message": "\u001b[2m2025-06-13T01:56:50.008895Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T01:56:50.008186+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m86e03cbf-fbb6-4bde-b7d8-bb747ace40c1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T22:56:50.011187", "level": "INFO", "message": "\u001b[2m2025-06-13T01:56:50.011008Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T01:56:50.008186+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m86e03cbf-fbb6-4bde-b7d8-bb747ace40c1\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-12T22:58:35.487126", "level": "INFO", "message": "\u001b[2m2025-06-13T01:58:35.486876Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T22:58:35.517307", "level": "INFO", "message": "\u001b[2m2025-06-13T01:58:35.517208Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T22:58:35.581755", "level": "INFO", "message": "\u001b[2m2025-06-13T01:58:35.581669Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-12T22:58:35.650567", "level": "INFO", "message": "\u001b[2m2025-06-13T01:58:35.650493Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.083402", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.085160", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14d7f8ec0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.106872", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.107578", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.121727", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.122377", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.135569", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.145778", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 01:58:36 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.169982", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.172903", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.186753", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.189651", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.206607", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.209874", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.430954", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14d7fa900>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.436586", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.730329", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14af4e210>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.734440", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.814662", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.815171", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.839264", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:36.839807", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.589021", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 01:58:37 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=ee66472f-fc7d-4941-9e35-3fb4b2532f03; Max-Age=1033358890; Expires=Tue, 12 Mar 2058 06:06:46 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=Q1eggrUGpQgv5IajIiCt%2FsCz%2Bb4EWoa4GeHjKqChFXI%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b85cc77a28317ef4c514c2458a072'), (b'X-Saia-Req-Id', b'e405ee5b-15e7-49da-ad17-e4e88371b5e3')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.601945", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.662150", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.715444", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.760647", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.762098", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.777240", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.778063", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.794648", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 01:58:37 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.795518", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.812346", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.813059", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:37.829780", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.154772", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.188330", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.188857", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.202852", "level": "INFO", "message": "\u001b[2m2025-06-13T01:58:38.202765Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.337556", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.387526", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.389484", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.404451", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.407057", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.424304", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 01:58:38 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.426314", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.441366", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.444396", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:58:38.461659", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T22:59:49.070970", "level": "INFO", "message": "\u001b[2m2025-06-13T01:59:49.070313Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T22:59:49.160744", "level": "INFO", "message": "\u001b[2m2025-06-13T01:59:49.160661Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m005ea24d-291c-4dad-9bab-00742204b55c\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-12T22:59:49.163638", "level": "INFO", "message": "\u001b[2m2025-06-13T01:59:49.163571Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T01:59:49.163364+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m005ea24d-291c-4dad-9bab-00742204b55c\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-12T22:59:49.185877", "level": "INFO", "message": "\u001b[2m2025-06-13T01:59:49.185778Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T01:59:49.163364+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m005ea24d-291c-4dad-9bab-00742204b55c\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-12T23:04:08.984067", "level": "INFO", "message": "\u001b[2m2025-06-13T02:04:08.983666Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.065083", "level": "INFO", "message": "\u001b[2m2025-06-13T02:04:09.064958Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.176438", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.229760", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.232475", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.251799", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.437517", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14be38e10>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.468856", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.612578", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.644926", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14be396d0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.645547", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.660225", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.660768", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.674242", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.675317", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.695485", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14af848a0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.696374", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.699950", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:04:09 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.711098", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.711617", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.767501", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.768847", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.785086", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.785526", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.799617", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:09.800367", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.799775", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:04:10 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b87192259e98396efcb88acc0cdc5'), (b'X-Saia-Req-Id', b'd062cfce-3296-44c7-adce-10b7071e27ee')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.848262", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.862937", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.940533", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.942254", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.970602", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:10.978493", "level": "INFO", "message": "\u001b[2m2025-06-13T02:04:10.978399Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.025973", "level": "DEBUG", "message": "Loaded CA certs", "module": "utils", "function": null, "filename": "src/utils.rs", "line": 31, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.034832", "level": "DEBUG", "message": "starting new connection: https://lite.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.056679", "level": "DEBUG", "message": "resolving lite.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.076594", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.145589", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.323694", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.336205", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://lite.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.363410", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.378197", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.379005", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.396726", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.397461", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:04:11 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.411949", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.412472", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.425844", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:11.426259", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.335008", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.335694", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.365016", "level": "INFO", "message": "response: https://lite.duckduckgo.com/lite/ 200", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.365602", "level": "DEBUG", "message": "_get_url() https://lite.duckduckgo.com/lite/ 200", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.415435", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.418690", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.447972", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.450446", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.452707", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.469293", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.471610", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.486692", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.488170", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.504249", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.506353", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.525828", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:04:12 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.543849", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.546018", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.563205", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:12.565410", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.358911", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:04:13 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b871c7375966218240104f8f98c09'), (b'X-Saia-Req-Id', b'ca58e57c-525a-4dcf-87ea-ab3385a10a35')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.359741", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.403001", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.593276", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.627609", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.629110", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.651048", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.653003", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.675867", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:04:13 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.677422", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.699431", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.702263", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:13.723506", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.205152", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.239908", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.240603", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.256389", "level": "INFO", "message": "\u001b[2m2025-06-13T02:04:16.256307Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.743323", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.790954", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.792096", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.810688", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.817535", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.835577", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:04:16 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.836288", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.853831", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.854417", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:04:16.875116", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.243108", "level": "INFO", "message": "\u001b[2m2025-06-13T02:28:26.241507Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.352805", "level": "INFO", "message": "\u001b[2m2025-06-13T02:28:26.352717Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.516534", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.556979", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.560234", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.583852", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.786231", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14be22780>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.818900", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.905494", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.941264", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14af4ee90>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.942076", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.956133", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.956578", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.972416", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.973068", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.998636", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:28:27 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:26.999303", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.013878", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.014306", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.028433", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.132571", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14af4b650>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.146521", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.147185", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.160883", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.161554", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.175025", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:27.966074", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:28:27 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b8ccb298dec2a2fcff9951fc61a1d'), (b'X-Saia-Req-Id', b'a40736c2-e3b0-4ffd-900c-36dda95b82b0')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.013047", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.013676", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.035948", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.036780", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.065496", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.066350", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.082115", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.082864", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:28:28 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.097386", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.097976", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.111884", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:28.112594", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.596969", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.597717", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.634393", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.637133", "level": "INFO", "message": "\u001b[2m2025-06-13T02:28:29.637062Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.640428", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.652467", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.667631", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.668269", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.684534", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.685212", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:28:29 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.701871", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.702302", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.717642", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:29.718180", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.241654", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.243355", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.291392", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.293054", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.326138", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.327119", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:28:30 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.349491", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.350257", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.368277", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:28:30.368772", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:14.920691", "level": "INFO", "message": "\u001b[2m2025-06-13T02:29:14.920069Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:29:14.972159", "level": "INFO", "message": "\u001b[2m2025-06-13T02:29:14.972025Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.114387", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.123036", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.172905", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.173946", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.346949", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14ad839b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.347666", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.534766", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.536711", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14be13a80>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.577047", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.578185", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.578397", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14af968b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.597884", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.598702", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.619074", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.621712", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.640123", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.641648", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.660858", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:29:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.662628", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.681834", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.683619", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.701758", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.721124", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:15.724743", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.349459", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:29:16 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b8cfb2aa4458e5b813cfd2542d45e'), (b'X-Saia-Req-Id', b'47f85849-9a83-4103-8dbd-9e9416a1aa58')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.350296", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.383605", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.747732", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.791781", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.799519", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.820245", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.823057", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.850244", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:29:16 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.851778", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.873428", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.874820", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:16.894472", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.213634", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.262041", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.262690", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.280354", "level": "INFO", "message": "\u001b[2m2025-06-13T02:29:18.280282Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.406020", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.442929", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.443539", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.462371", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.462987", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.478976", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:29:18 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.479670", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.494501", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.495078", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:29:18.510416", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.070643", "level": "INFO", "message": "\u001b[2m2025-06-13T02:40:11.070307Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.169604", "level": "INFO", "message": "\u001b[2m2025-06-13T02:40:11.169503Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.301702", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.346580", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.347900", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.378649", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.594370", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14af24150>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.629069", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.708110", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.745675", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14be60c30>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.746368", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.767027", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.767751", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.786840", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.787665", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.806293", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:40:11 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.806988", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.827801", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.829097", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:11.845550", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:12.105615", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14af26350>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:12.167644", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:12.169093", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:12.206791", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:12.213965", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:12.267960", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.304954", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:40:13 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b8f8c1e2ee26cd1ae2163fe5efb27'), (b'X-Saia-Req-Id', b'933c5587-3189-426c-91af-c9f0525e8efe')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.340748", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.341473", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.856673", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.858553", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.896986", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.898689", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.920371", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.922438", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:40:13 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.947254", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.948888", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.973152", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:13.974610", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:14.603919", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:14.604688", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:14.641413", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:40:14.644079", "level": "INFO", "message": "\u001b[2m2025-06-13T02:40:14.644018Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.008695", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.010219", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.068129", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.073434", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.103674", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.104961", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:40:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.128482", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.129309", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.151346", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:40:15.151893", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:22.668807", "level": "INFO", "message": "\u001b[2m2025-06-13T02:41:22.668368Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:41:22.717090", "level": "INFO", "message": "\u001b[2m2025-06-13T02:41:22.716992Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:41:22.866985", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:41:22.874609", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:22.923732", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:22.926098", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.092799", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14be7bc50>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.095210", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.277844", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.283186", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14afa03b0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.289165", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14be7ba70>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.340193", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.341145", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.368475", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.370090", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.410942", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.412125", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.450314", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.451335", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.474945", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.475448", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.508317", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:41:23 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.527213", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.527719", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.544343", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:23.544866", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.167109", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:41:24 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b8fd3bc67bfd99eee9434660096fe'), (b'X-Saia-Req-Id', b'ae6f9f33-103b-441c-9ff5-7fa3306893d0')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.176709", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.241894", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.570972", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.607506", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.608025", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.636748", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.638136", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.674242", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:41:24 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.675073", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.692892", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.693425", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:24.711545", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.439986", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.476429", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.477053", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.498127", "level": "INFO", "message": "\u001b[2m2025-06-13T02:41:29.498039Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.733701", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.777144", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.781918", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.811889", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14ad83680>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.826819", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.857206", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.866876", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.908200", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.917151", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.940955", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:41:29 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.943425", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.968371", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:29.984768", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:41:30.006843", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:07.760584", "level": "INFO", "message": "\u001b[2m2025-06-13T02:42:07.760289Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:42:07.832855", "level": "INFO", "message": "\u001b[2m2025-06-13T02:42:07.832755Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:42:07.931525", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:42:07.970487", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:07.971322", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:07.989638", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.201946", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b496b30>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.247239", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.359042", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.397746", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b496eb0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.422616", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14b4bc490>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.423921", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.449865", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.451610", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.480032", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.481793", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.506438", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.508198", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.528079", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.529493", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.551988", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.576388", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:42:08 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.577463", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.599033", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.602065", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:08.621020", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.427139", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:42:09 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b900050bd881eccd01bc7a7bf4576'), (b'X-Saia-Req-Id', b'6c0ec617-2b12-467c-9648-aff06af370bc')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.492761", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.494718", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.631326", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.632187", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.656314", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.657330", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.675352", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.676116", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:42:09 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.694648", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.695304", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.714184", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:09.714695", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.311482", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.314009", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.355850", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.359763", "level": "INFO", "message": "\u001b[2m2025-06-13T02:42:11.359666Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.748699", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.749433", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.782097", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.782655", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.800184", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.800874", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:42:11 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.818569", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.819105", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.836438", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:11.837005", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.314603", "level": "INFO", "message": "\u001b[2m2025-06-13T02:42:41.314140Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.345612", "level": "INFO", "message": "\u001b[2m2025-06-13T02:42:41.345535Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.478509", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'holaaasdasd', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.481811", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.528084", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.529231", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.693456", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14be51300>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.695202", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.881559", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14afe6e10>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.883425", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.907304", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.922687", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.933668", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14b49a150>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.952905", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.954467", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.976758", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.000850", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:41.978989", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.025503", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.032922", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.056483", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.058122", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:42:42 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.078956", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.079993", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.099573", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:42.100477", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.083519", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:42:43 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9022663c104430efa5f8ddef5108'), (b'X-Saia-Req-Id', b'1b3414e1-87b6-4ca7-b9a1-ee04276b3450')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.085655", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.137115", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.635575", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.677525", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.678332", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.699030", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.699791", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.718787", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:42:43 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.719798", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.738027", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.738589", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:43.756571", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:45.989664", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.022987", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.025311", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.046524", "level": "INFO", "message": "\u001b[2m2025-06-13T02:42:46.046457Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.277590", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.328203", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.344791", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.413807", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.415238", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.434878", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:42:46 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.435469", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.454155", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.454708", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:42:46.483405", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.477036", "level": "INFO", "message": "\u001b[2m2025-06-13T02:44:30.476713Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.545844", "level": "INFO", "message": "\u001b[2m2025-06-13T02:44:30.545752Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.694030", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'hola como andas?', 'role': 'user'}, {'content': '\u00a1Hola! Estoy aqu\u00ed para ayudarte. \u00bfEn qu\u00e9 puedo asistirte hoy?', 'role': 'assistant'}, {'content': 'string', 'role': 'user'}, {'content': 'Parece que mencionaste \"string\". \u00bfPodr\u00edas proporcionar m\u00e1s contexto o detalles sobre lo que necesitas saber o hacer con \"string\"? Estoy aqu\u00ed para ayudarte con cualquier pregunta o tema relacionado.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_6hke9kVUJN61wr0p6cElekRl', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'snippet: No solution on the market came anywhere close, so I built assistant-ui. assistant-ui is an open-source, embeddable, customizable AI chat component for React web apps. You can use it to build GPT wrappers, in-app copilots, or agentic systems. It supports rich content (markdown, code highlighting, charts, tables), generative UI, message editing ..., title: assistant-ui, link: https://www.assistant-ui.com/blog/2024-07-29-hello, snippet: Learn how to build and deploy stateful AI agents with LangGraph Cloud and assistant-ui, a React-based chat interface for AI-driven conversations. See examples of streaming, generative UI, human-in-the-loop, and multimodal features., title: Build stateful conversational AI agents with LangGraph and assistant-ui, link: https://blog.langchain.dev/assistant-ui/, snippet: assistant-ui is a Typescript/React library that lets you build in-app AI assistants with ChatGPT-like UX. It connects to your own AI agents, supports generative UI, frontend tool calls, and customization., title: assistant-ui - Open Source Typescript/React Library for AI Chat, link: https://www.ycombinator.com/launches/Mnc-assistant-ui-open-source-typescript-react-library-for-ai-chat, snippet: assistant-ui simplifies the process of building AI-powered chat features into your frontend applications. It offers a full suite of pre-built features, integrations with major LLM providers, and customizable UI components., title: assistant-ui - Typescript/React Library for AI Chat - Aitoolnet, link: https://www.aitoolnet.com/assistantui, snippet: Assistant UI is a React-based library for building AI chat interfaces. It provides a flexible, composable system for developing conversational UIs that stream responses, support rich content like markdown and code highlighting, and integrate with various AI providers. This overview introduces the system architecture, core components, and how ..., title: assistant-ui/assistant-ui | DeepWiki, link: https://deepwiki.com/assistant-ui/assistant-ui, snippet: assistant-ui is an embeddable AI chat frontend for React applications. It supports streaming, generative UI, human-in-the-loop, and other UX paradigms crucia..., title: Build stateful conversational AI agents with LangGraph and assistant-ui ..., link: https://www.youtube.com/watch?v=k1OEeqknoR0, snippet: Step 1: Create a new project with assistant-ui pre-configured: npx assistant-ui@latest create my-app cd my-app Step 2: Update the .env file with your OpenAI API key. Step 3: Run the app: npm run dev. I get Error: spawn npx ENOENT other-package-script process exited with code -4058, title: install assistant-ui \u00b7 Issue #663 - GitHub, link: https://github.com/assistant-ui/assistant-ui/issues/663, snippet: assistant-ui \u662f\u4e00\u4e2a\u4e13\u4e3a AI \u804a\u5929\u5e94\u7528\u8bbe\u8ba1\u7684 React \u7ec4\u4ef6\u5e93\uff0c\u652f\u6301\u591a\u79cd\u6a21\u578b\u63d0\u4f9b\u5546\u548c\u6280\u672f\u6808\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u521b\u5efa\u3001\u914d\u7f6e\u548c\u8fd0\u884c\u4e00\u4e2a assistant-ui \u9879\u76ee\uff0c\u5e76\u5c55\u793a\u4e86\u804a\u5929\u673a\u5668\u4eba\u548c\u667a\u80fd\u52a9\u624b\u7684\u5e94\u7528\u6848\u4f8b\u3002, title: assistant-ui \u5f00\u6e90\u9879\u76ee\u4f7f\u7528\u6559\u7a0b - CSDN\u535a\u5ba2, link: https://blog.csdn.net/gitblog_00772/article/details/142196980, snippet: Assistant-UI serves as a versatile AI agent that focuses on automating repetitive tasks, streamlining communication, and enhancing overall productivity. By utilizing intelligent algorithms, it manages workflows across multiple applications, allowing users to focus on critical responsibilities. With features like task reminders, scheduling, and ..., title: Enhance Productivity with Assistant-UI AI Agent | Creati.ai, link: https://creati.ai/ai-tools/assistant-ui/, snippet: assistant-ui \u662f\u4e00\u4e2a\u53ef\u5d4c\u5165\u7684 AI \u804a\u5929\u524d\u7aef\uff0c\u652f\u6301\u6d41\u5f0f\u4f20\u8f93\u3001\u751f\u6210\u5f0f UI\u3001\u4eba\u673a\u534f\u4f5c\u7b49\u529f\u80fd\u3002\u672c\u6587\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 LangGraph Cloud \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406\uff0c\u5e76\u5c55\u793a\u4e86\u4e00\u4e2a\u80a1\u7968\u7ecf\u7eaa\u4eba\u4ee3\u7406\u7684\u793a\u4f8b\u3002, title: \u4f7f\u7528 LangGraph \u548c assistant-ui \u6784\u5efa\u6709\u72b6\u6001\u7684\u5bf9\u8bdd\u5f0f AI \u4ee3\u7406, link: https://blog.langchain.ac.cn/assistant-ui/', 'role': 'tool', 'tool_call_id': 'call_6hke9kVUJN61wr0p6cElekRl'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.738957", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.740028", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.769096", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:30.987255", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14afe5d90>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.023554", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.081674", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.124367", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14b4a9f50>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.125225", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.173096", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14adaea40>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.176461", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.177870", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.215171", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.222015", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.283370", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.282410", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.316962", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.318112", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.346158", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.354979", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:44:31 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.395432", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.418663", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.420218", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:31.442175", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.214422", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:44:32 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b908f266e2b25fd8adacdbbc0650c'), (b'X-Saia-Req-Id', b'241074cd-dd5a-4676-bf04-5d271b4df313')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.274479", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.278705", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.455042", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.456383", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.552605", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.553469", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.573664", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.574574", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:44:32 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.595871", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.596607", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.619962", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:32.620620", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:33.628258", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:33.628849", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:33.667840", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:44:33.670890", "level": "INFO", "message": "\u001b[2m2025-06-13T02:44:33.670821Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.159243", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.169342", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.221253", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.223568", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.262810", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.265626", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:44:34 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.293556", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.295870", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.320135", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:44:34.324798", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.280703", "level": "INFO", "message": "\u001b[2m2025-06-13T02:45:01.279562Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.345462", "level": "INFO", "message": "\u001b[2m2025-06-13T02:45:01.345330Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.523037", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.527068", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.586678", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.587965", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.761894", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14adae8e0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.762628", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.948596", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:01.951239", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14b444140>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.000180", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.005325", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.025556", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.026299", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.045769", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.047298", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:45:02 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.068145", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.070835", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.075996", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b481590>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.093249", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.095053", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.116484", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.120346", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.150023", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.170375", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:02.173853", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.117949", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 02:45:03 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b90aec7fa8e007582cab47948c6d6'), (b'X-Saia-Req-Id', b'5b5fc306-a92d-4b5b-9733-75d140769747')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.124080", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.180462", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.262233", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.340884", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.371017", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.426118", "level": "INFO", "message": "\u001b[2m2025-06-13T02:45:03.426044Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.438289", "level": "DEBUG", "message": "Loaded CA certs", "module": "utils", "function": null, "filename": "src/utils.rs", "line": 31, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.466345", "level": "DEBUG", "message": "starting new connection: https://lite.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.467198", "level": "DEBUG", "message": "resolving lite.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.656515", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.657172", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.714560", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.715271", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.741100", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.741836", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:45:03 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.766173", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.766819", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.792146", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:03.792936", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.329958", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.387293", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.487745", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://lite.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.610324", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.655224", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.655785", "level": "INFO", "message": "response: https://lite.duckduckgo.com/lite/ 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.675452", "level": "DEBUG", "message": "_get_url() https://lite.duckduckgo.com/lite/ 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-12T23:45:04.676403", "level": "INFO", "message": "Error to search using lite backend: https://lite.duckduckgo.com/lite/ 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-12T23:45:05.451014", "level": "DEBUG", "message": "starting new connection: https://html.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-12T23:45:05.474498", "level": "DEBUG", "message": "resolving html.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-12T23:45:05.718379", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-12T23:45:05.762297", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-12T23:45:05.980859", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://html.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.095450", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.136765", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.138639", "level": "INFO", "message": "response: https://html.duckduckgo.com/html 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.166956", "level": "DEBUG", "message": "_get_url() https://html.duckduckgo.com/html 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.169450", "level": "INFO", "message": "Error to search using html backend: https://html.duckduckgo.com/html 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.212331", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:45:06.212250Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'https://html.duckduckgo.com/html 202 Ratelimit'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.280294", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:45:06.214295Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'https://html.duckduckgo.com/html 202 Ratelimit'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 186, in _tool_call\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 523, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 887, in arun\n    raise error_to_raise\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 856, in arun\n    response = await coro_with_context(coro, context)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 638, in _arun\n    return await run_in_executor(None, self._run, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 616, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 607, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/tools/ddg_search/tool.py\", line 112, in _run\n    raw_results = self.api_wrapper.results(\n        query, self.max_results, source=self.backend\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 146, in results\n    for r in self._ddgs_text(query, max_results=max_results)\n             ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 64, in _ddgs_text\n    ddgs_gen = ddgs.text(\n        query,\n    ...<4 lines>...\n        backend=self.backend,\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py\", line 184, in text\n    raise DuckDuckGoSearchException(err)\nduckduckgo_search.exceptions.DuckDuckGoSearchException: https://html.duckduckgo.com/html 202 Ratelimit\nDuring task with name 'tool_call' and id 'e4a8e148-3494-5326-4668-c5656844982f'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.327438", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.331563", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.356827", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.359522", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.384131", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.390238", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:45:06 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.414154", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.416782", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.441769", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:06.443602", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:45:23.622314", "level": "INFO", "message": "\u001b[2m2025-06-13T02:45:23.622193Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:45:23.654383", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:45:23.654303Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_too_short', 'loc': ('body', 'messages', 1, 'content'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat/stream\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.323326", "level": "INFO", "message": "\u001b[2m2025-06-13T02:49:55.322256Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.384047", "level": "INFO", "message": "\u001b[2m2025-06-13T02:49:55.383931Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.566853", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.568603", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.605181", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.606065", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.895228", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b467bb0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.896947", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.990281", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:55.992086", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14b4d7e30>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.025424", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.029553", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.060398", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.062138", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.089962", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.093610", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:49:56 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.117493", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.119192", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.142785", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.145640", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.153113", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b91eb10>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.174397", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.196759", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.200394", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.224094", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:56.224871", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.116288", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 02:49:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b91d47e9252ccea566c89868dc355'), (b'X-Saia-Req-Id', b'f763aef0-0d49-4f4a-8024-ce410dda96ad'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.118444", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.162670", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.183946", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.206399", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.207131", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.230023", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.230611", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.251538", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.254100", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:49:58.254017Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"f763aef0-0d49-4f4a-8024-ce410dda96ad\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.287959", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.289483", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.310928", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.311388", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.332859", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.333333", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.688574", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.690496", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.730519", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.732864", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.757174", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.763450", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:49:58 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.786796", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.790194", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.812182", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:58.814985", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.755138", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 02:49:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b91d6d822061e50bfe253943f7f7d'), (b'X-Saia-Req-Id', b'6b3fa1fe-a956-4cec-983b-fe4039392794'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.758182", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.836407", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.839778", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.868095", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.870181", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.891840", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.894911", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.918532", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.928741", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:49:59.928660Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"6b3fa1fe-a956-4cec-983b-fe4039392794\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.969888", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.972591", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:49:59.999997", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.017083", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.043549", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.045518", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.345098", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.346342", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.431714", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.432593", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.458156", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.458836", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:50:00 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.479771", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.480285", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.500171", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:00.500782", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.293284", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 02:50:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b91d8ce77f8c76156447e67c0a6f9'), (b'X-Saia-Req-Id', b'3b2ed25c-576b-41d5-8fde-cd6b78cbc0d2'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.294111", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.337455", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.338424", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.363911", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.364929", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.388631", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.389503", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.412626", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.414786", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:50:02.414675Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"3b2ed25c-576b-41d5-8fde-cd6b78cbc0d2\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.457612", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:50:02.457526Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.459873", "level": "ERROR", "message": "\u001b[2m2025-06-13T02:50:02.458244Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '7dce801b-32eb-be20-44e5-bd2a63388b52'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.536716", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.538661", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.573057", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.573813", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.605096", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.605715", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 02:50:02 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.631718", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.632860", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.654971", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-12T23:50:02.655591", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:55.563092", "level": "INFO", "message": "\u001b[2m2025-06-13T03:10:55.562049Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:10:55.644148", "level": "INFO", "message": "\u001b[2m2025-06-13T03:10:55.644060Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:10:55.849750", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:10:55.854974", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:55.910714", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:55.911512", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.139386", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b97db50>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.139989", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x14aadc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.271155", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.273036", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x14b975550>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.325838", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.326644", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.350295", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.351194", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.389249", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x14b9daf50>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.389322", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.390240", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.444916", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:10:56 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.447481", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.496211", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.502351", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.526542", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.528517", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.554327", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.557839", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:56.584118", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.370987", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:10:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b96c0cdb2a038af7b3315dd6083bb'), (b'X-Saia-Req-Id', b'd418a252-0eaa-4197-a2ad-30ca3b73f112'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.372100", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.420962", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.424005", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.448007", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.448714", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.471899", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.472486", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.495111", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.497142", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:10:58.497062Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"d418a252-0eaa-4197-a2ad-30ca3b73f112\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.530997", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.532418", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.555576", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.556293", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.577311", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.577825", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.626393", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.627103", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.647713", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.648315", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.677725", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.686483", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:10:58 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.712758", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.715348", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.738262", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:10:58.739782", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.341305", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:11:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b96c23228fa44b681c52ca239efe8'), (b'X-Saia-Req-Id', b'736a6c85-4320-4572-a2fe-56e0670a27e6'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.343596", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.403242", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.404453", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.430213", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.431837", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.460003", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.460761", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.487383", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.489398", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:11:00.489305Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"736a6c85-4320-4572-a2fe-56e0670a27e6\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.537427", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-12 22:54:41\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.539075", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.577498", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.578528", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.616718", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.617216", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.781103", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.781893", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.805417", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.806269", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.829762", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.831099", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:11:00 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.853406", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.854761", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.878009", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:00.880539", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.478563", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:11:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b96c4307aa5de4c3fe07165f8e96f'), (b'X-Saia-Req-Id', b'838340b7-2f4e-4478-bb82-8bf2d731aa84'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.479546", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.524005", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.524759", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.547157", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.547754", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.569912", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.570629", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.593436", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.595602", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:11:02.595496Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"838340b7-2f4e-4478-bb82-8bf2d731aa84\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.640740", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:11:02.640644Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.643639", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:11:02.641574Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '6343ef2b-2dfa-af3e-7b01-f27c86f4dd4d'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.919771", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.923336", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.993788", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:02.997471", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:03.029581", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:03.032207", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:11:03 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:03.062741", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:03.064105", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:03.087779", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:03.089974", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:11:47.582507", "level": "INFO", "message": "\u001b[2m2025-06-13T03:11:47.582156Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
