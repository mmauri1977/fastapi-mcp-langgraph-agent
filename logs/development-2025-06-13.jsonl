{"timestamp": "2025-06-13T00:11:52.947075", "level": "INFO", "message": "\u001b[2m2025-06-13T03:11:52.946326Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T00:11:53.441999", "level": "INFO", "message": "\u001b[2m2025-06-13T03:11:53.441907Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T00:11:54.229686", "level": "INFO", "message": "\u001b[2m2025-06-13T03:11:54.229507Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T00:11:54.644539", "level": "INFO", "message": "\u001b[2m2025-06-13T03:11:54.644439Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T00:11:54.671232", "level": "INFO", "message": "\u001b[2m2025-06-13T03:11:54.671164Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T00:12:12.936558", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:12.935927Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:12:12.980045", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:12.979968Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.013649", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:13.013568Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.056595", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:13.056529Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.398523", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.400853", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.517671", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.519316", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x128be2900>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.523453", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.524378", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.528563", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.529471", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.534273", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.557989", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:12:13 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.571988", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.572751", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.579635", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.580438", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.582924", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128be3770>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.589521", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.755735", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128c311d0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.758148", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.764591", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.766433", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.773167", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:13.775511", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.370437", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:12:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=5a5c4096-9f25-4fc3-8b6f-dd4cc6527aa7; Max-Age=1033354473; Expires=Tue, 12 Mar 2058 06:06:46 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=78UnsdpvBUrVuY8nzNJaSx0gsdvsatYD1xCnJ9i%2FoMw%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b970d8a2e3e1f9c1d51d718cbd566'), (b'X-Saia-Req-Id', b'21dc4ff0-417c-4fcd-b338-c07aedfbf8eb'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.372427", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.393378", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.397245", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.404397", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.404934", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.411675", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.412306", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.429764", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.431901", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:12:15.431789Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"21dc4ff0-417c-4fcd-b338-c07aedfbf8eb\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.456116", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.458051", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.471589", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.472163", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.478523", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.479020", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.601392", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.602433", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.617935", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.618916", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.628486", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.639517", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:12:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.668384", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.669190", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.678040", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:15.679085", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.408980", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:12:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b970f2a63ebf5482c0002955de5b9'), (b'X-Saia-Req-Id', b'976e5063-32bc-4dfc-89ea-982b09cc40cd'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.449689", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.475222", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.494583", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.555013", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.558226", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.747659", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.757848", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.868418", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.873434", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:12:17.873348Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"976e5063-32bc-4dfc-89ea-982b09cc40cd\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.903427", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.910915", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.965954", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:17.980291", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.203481", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.208946", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.209986", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.234598", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.273382", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.279969", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.314780", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.321459", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:12:18 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.342148", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.342898", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.353811", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:18.355684", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.790127", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:12:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9712502c84d90829859cc8a2c91b'), (b'X-Saia-Req-Id', b'a9c3b25f-2368-4178-91b7-f01703a7aa29'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.792834", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.810756", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.812161", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.818849", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.820003", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.827433", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.828360", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.838825", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.841158", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:12:19.841034Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"a9c3b25f-2368-4178-91b7-f01703a7aa29\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.876405", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.882755", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.898115", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:12:19.898001Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.902448", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.924614", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:12:19.905850Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '9ad0faca-e63a-ca50-8180-43968fd0d3a0'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.933815", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.961947", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.967609", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:12:19 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.983814", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:19.992633", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.039222", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.044242", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.571005", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.572056", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.580446", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.581128", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.588298", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.588828", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:12:20 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.596844", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.597270", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.607800", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:20.608446", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:12:32.703519", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:32.703083Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:12:32.713736", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:12:32.705185Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mtoken_validation_failed       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m\"invalid literal for int() with base 10: '12b39cc3-3b6e-4953-83e0-bcc330a33d84'\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_current_user\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m89\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\", line 77, in get_current_user\n    user_id_int = int(user_id)\nValueError: invalid literal for int() with base 10: '12b39cc3-3b6e-4953-83e0-bcc330a33d84'", "module": "auth", "function": "get_current_user", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 89, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.827755", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.828948", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.844356", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.845135", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.853930", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.854467", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.863211", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.863808", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.873052", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.873795", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.881680", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.882589", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:38.887346", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:12:39.150117", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:39.150037Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T03:12:39.149792+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T00:12:50.674719", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:50.674424Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:12:50.727159", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:50.727039Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T00:12:50.750320", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:50.750228Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T03:12:50.749961+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T00:12:50.751499", "level": "INFO", "message": "\u001b[2m2025-06-13T03:12:50.751421Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T03:12:50.749961+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T00:13:10.541651", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:13:10.541512Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mtoken_verification_failed     \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Signature verification failed.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m84\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 84, "environment": "development"}
{"timestamp": "2025-06-13T00:13:10.542661", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:13:10.542596Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1msession_id_not_found          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_current_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m117\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36mtoken_part\u001b[0m=\u001b[35meyJhbGciOi...\u001b[0m", "module": "auth", "function": "get_current_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 117, "environment": "development"}
{"timestamp": "2025-06-13T00:13:45.770449", "level": "INFO", "message": "\u001b[2m2025-06-13T03:13:45.769594Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:13:45.810564", "level": "INFO", "message": "\u001b[2m2025-06-13T03:13:45.810479Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:13:45.887666", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:13:45.892561", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:45.914499", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:45.917173", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.104260", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x129b57750>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.107386", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.267363", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128bda520>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.268211", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.277884", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.278298", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.293341", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.293884", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.347600", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.349457", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x129b57390>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.380536", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.381183", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.391026", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.391612", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.395843", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.412461", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:13:46 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.426644", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.427582", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.433109", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:46.433780", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.019043", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:13:46 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b976abf416b255d90140643cb6ee5'), (b'X-Saia-Req-Id', b'a63ab8bd-c295-4b0a-90ea-f4673d4f916c')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.021146", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.101370", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.453820", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.474711", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.475154", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.487647", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.488103", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.491575", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:13:47 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.492072", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.495622", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.496002", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:47.499174", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.101218", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.133916", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.151082", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.204942", "level": "INFO", "message": "\u001b[2m2025-06-13T03:13:49.204728Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.516476", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.532617", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.533086", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.547904", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.548452", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.552258", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:13:49 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.552786", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.556601", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.556997", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:13:49.560702", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:13.745048", "level": "INFO", "message": "\u001b[2m2025-06-13T03:14:13.744795Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:14:13.798285", "level": "INFO", "message": "\u001b[2m2025-06-13T03:14:13.798162Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:14:13.869401", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:14:13.904446", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:13.905317", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:13.918842", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.064207", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x129b94050>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.082675", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.230818", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1284b9490>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.243467", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.244535", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.267363", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.268037", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.278175", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.323115", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.340844", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x128c07610>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.343963", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.357199", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.357768", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.366317", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.366984", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.381381", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:14:14 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.382398", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.392527", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.393104", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:14.398897", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.308609", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:14:15 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9786d72856b914494884b8bcb61c'), (b'X-Saia-Req-Id', b'57c23478-8015-484e-9760-28cc48dfa949')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.327445", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.328190", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.407304", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.408984", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.424705", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.427520", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.442556", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.444821", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:14:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.457934", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.460420", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.467692", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:15.469358", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:16.729356", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:16.745544", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:16.805966", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:14:16.823912", "level": "INFO", "message": "\u001b[2m2025-06-13T03:14:16.823789Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:14:16.987545", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:16.988401", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.004280", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.004970", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.018173", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.018868", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:14:17 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.029069", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.029618", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.034137", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:14:17.034753", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.366061", "level": "INFO", "message": "\u001b[2m2025-06-13T03:16:38.364714Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.425945", "level": "INFO", "message": "\u001b[2m2025-06-13T03:16:38.425841Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.549580", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.551485", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.573220", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.574166", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.774675", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128481590>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.775291", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.988453", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:38.993057", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x129b1cc30>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.011830", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.012866", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.030321", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.031295", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.079973", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.081870", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:16:39 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.089383", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.093222", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.101405", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:39.105992", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:40.456556", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128482e00>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:40.457703", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:40.485857", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:40.487562", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:40.497345", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:40.498006", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.614049", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:16:41 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9818d51d78b4e6f196844d917048'), (b'X-Saia-Req-Id', b'8f99bcd0-2e77-4f81-b61a-7860f787c45d')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.615162", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.639607", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.822251", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.849816", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.850665", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:16:41.867002", "level": "INFO", "message": "\u001b[2m2025-06-13T03:16:41.866936Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.143487", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.171815", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.176163", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.216087", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.219887", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.252792", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:16:42 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.256294", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.279289", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.280862", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:16:42.291802", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:17.083783", "level": "INFO", "message": "\u001b[2m2025-06-13T03:17:17.082959Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:17:17.172697", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:17:17.172581Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_too_short', 'loc': ('body', 'messages', 1, 'content'), 'msg': 'String should have at least 1 character', 'input': '', 'ctx': {'min_length': 1}}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat/stream\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T00:17:23.571122", "level": "INFO", "message": "\u001b[2m2025-06-13T03:17:23.570744Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:17:23.765762", "level": "INFO", "message": "\u001b[2m2025-06-13T03:17:23.765668Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.293150", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.320979", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x129b7c180>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.322330", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.341766", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.342693", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.355870", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.356781", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.408425", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.414396", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.448184", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.449103", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.542314", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:17:24 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.543708", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.578224", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.578789", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.593934", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.605424", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12849d550>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.619461", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.765371", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12849c650>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.788080", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.791775", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.822653", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.825545", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:24.919412", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.101124", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.132651", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.134032", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.154175", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.158137", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.184571", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:17:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.187776", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.199471", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.200658", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.210861", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.645871", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:17:25 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9844a2aa1b3977e47bbac8e98b91'), (b'X-Saia-Req-Id', b'850f7789-e2fd-49e3-b4a3-83d00abd0cde')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.690151", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.690843", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.713951", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.716145", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.733087", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.734372", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.743522", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.744415", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:17:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.751352", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.752116", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.758730", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:25.759609", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.189767", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.190886", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.217534", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.220315", "level": "INFO", "message": "\u001b[2m2025-06-13T03:17:26.220245Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.271868", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.272940", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.297025", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.297853", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.307585", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.308257", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:17:26 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.314513", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.314950", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.320705", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:17:26.321164", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:44.232656", "level": "INFO", "message": "\u001b[2m2025-06-13T03:19:44.232327Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:19:44.736545", "level": "INFO", "message": "\u001b[2m2025-06-13T03:19:44.736442Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.333041", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.338085", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x129b857f0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.364044", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.366435", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.381309", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.383889", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.393000", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.632917", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.658238", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.659443", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.676607", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.872242", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x129b777a0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:45.923452", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.072768", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x129b77c50>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.096598", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.098064", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.112562", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.113660", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.122950", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.209089", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:19:46 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.235094", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.236956", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.252790", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.256348", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.771246", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.772039", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.801867", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.802786", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.810755", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.811698", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:19:46 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.819567", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.820154", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.827106", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:46.827590", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.095625", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:19:47 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b98d28dd0f2e4a3125b85b6ced111'), (b'X-Saia-Req-Id', b'ba264183-cc94-4ecb-b5fc-64b69480dbaa')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.097391", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.125185", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.339310", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.442323", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.443365", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.482858", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.483450", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.495086", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:19:47 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.495911", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.503503", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.504001", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:47.511116", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.035186", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.067803", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.068761", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.078198", "level": "INFO", "message": "\u001b[2m2025-06-13T03:19:50.078124Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.538178", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.574792", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.581168", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.620779", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.622360", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.658353", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:19:50 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.659941", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.670969", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.672667", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:19:50.680364", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.467650", "level": "INFO", "message": "\u001b[2m2025-06-13T03:26:15.467344Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.557317", "level": "INFO", "message": "\u001b[2m2025-06-13T03:26:15.557206Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.674988", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.714781", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.716096", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.736954", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.963595", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12b5eb930>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:15.986898", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.099087", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.124242", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12de04490>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.125150", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.152038", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.152928", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.164818", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.165635", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.215819", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:26:16 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.216990", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.226237", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.226864", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.234424", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.902441", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128c10bb0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.950702", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.951787", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.959071", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.959802", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:16.969588", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:17.823105", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:26:17 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9a59b0e94dec582a2afb038619e0'), (b'X-Saia-Req-Id', b'bc3c8ef4-5dfd-4a38-8e93-187dab2e0523')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:17.855352", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:26:17.856023", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.243318", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.244265", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.283183", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.286101", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.309649", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.313787", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:26:18 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.323153", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.328046", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.341071", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.343829", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.853066", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.853745", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.877606", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:26:18.880241", "level": "INFO", "message": "\u001b[2m2025-06-13T03:26:18.880165Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.364423", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.367247", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.394372", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.395891", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.410093", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.411452", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:26:19 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.421413", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.423929", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.435240", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:26:19.437881", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:01.623952", "level": "INFO", "message": "\u001b[2m2025-06-13T03:27:01.623678Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:27:01.669813", "level": "INFO", "message": "\u001b[2m2025-06-13T03:27:01.669694Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:27:01.924328", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:27:01.927588", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:01.955927", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:01.971276", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.138605", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128b93ee0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.139774", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.284584", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.287807", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x129bfcd10>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.317503", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.319020", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.323908", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128c64410>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.338084", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.339523", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.349933", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.351116", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.361857", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.363045", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.378108", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:27:02 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.379854", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.392497", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.393936", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.404915", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.415927", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:02.418246", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.393461", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:27:03 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9a866505d1a201024ba72e27744e'), (b'X-Saia-Req-Id', b'952209b7-83c9-476d-99b2-1cae84815c50')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.395345", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.569491", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.578481", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.631370", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.632045", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.658645", "level": "INFO", "message": "\u001b[2m2025-06-13T03:27:03.658567Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.675996", "level": "DEBUG", "message": "Loaded CA certs", "module": "utils", "function": null, "filename": "src/utils.rs", "line": 31, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.691398", "level": "DEBUG", "message": "starting new connection: https://html.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.692252", "level": "DEBUG", "message": "resolving html.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.716304", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.761180", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.836090", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://html.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.944707", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.951696", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.980096", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.980754", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.991017", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:03.991802", "level": "INFO", "message": "response: https://html.duckduckgo.com/html 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.001787", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.002449", "level": "DEBUG", "message": "_get_url() https://html.duckduckgo.com/html 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.012087", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.012618", "level": "INFO", "message": "Error to search using html backend: https://html.duckduckgo.com/html 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.022330", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:27:04 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.030188", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.030688", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.037702", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.038108", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.778002", "level": "DEBUG", "message": "starting new connection: https://lite.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.778707", "level": "DEBUG", "message": "resolving lite.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.806273", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.850525", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-13T00:27:04.928200", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://lite.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.081072", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.113616", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.115330", "level": "INFO", "message": "response: https://lite.duckduckgo.com/lite/ 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.128254", "level": "DEBUG", "message": "_get_url() https://lite.duckduckgo.com/lite/ 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.130116", "level": "INFO", "message": "Error to search using lite backend: https://lite.duckduckgo.com/lite/ 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.177218", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:27:05.177134Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'https://lite.duckduckgo.com/lite/ 202 Ratelimit'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.195085", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:27:05.178979Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'https://lite.duckduckgo.com/lite/ 202 Ratelimit'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 186, in _tool_call\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 523, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 887, in arun\n    raise error_to_raise\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 856, in arun\n    response = await coro_with_context(coro, context)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 638, in _arun\n    return await run_in_executor(None, self._run, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 616, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 607, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/tools/ddg_search/tool.py\", line 112, in _run\n    raw_results = self.api_wrapper.results(\n        query, self.max_results, source=self.backend\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 146, in results\n    for r in self._ddgs_text(query, max_results=max_results)\n             ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 64, in _ddgs_text\n    ddgs_gen = ddgs.text(\n        query,\n    ...<4 lines>...\n        backend=self.backend,\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py\", line 184, in text\n    raise DuckDuckGoSearchException(err)\nduckduckgo_search.exceptions.DuckDuckGoSearchException: https://lite.duckduckgo.com/lite/ 202 Ratelimit\nDuring task with name 'tool_call' and id '56952ec5-16c2-8f45-a018-2407bf421e6c'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.552661", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.555395", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.595835", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.596576", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.605815", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.606497", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:27:05 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.615714", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.616219", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.625099", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:05.625656", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.242821", "level": "INFO", "message": "\u001b[2m2025-06-13T03:27:58.242547Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.296798", "level": "INFO", "message": "\u001b[2m2025-06-13T03:27:58.296701Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.470959", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.473686", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.521805", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.528853", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.777710", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128c67290>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.778436", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.855427", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.856959", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12dea3c50>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.886570", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.887296", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.897220", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.897840", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.908709", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.921262", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:27:58 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.932271", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.932865", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.942443", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.943063", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.968046", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1284ad5a0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.968930", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.977747", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.978231", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.987426", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:27:58.988057", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.321615", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:28:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9abfa978fb4c66cb9fcc1bb855d4'), (b'X-Saia-Req-Id', b'c6c7c37e-4227-4271-8017-3894077a0ee0'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.324278", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.348875", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.350625", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.359599", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.361230", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.371960", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.372722", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.383437", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.385474", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:00.385393Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"c6c7c37e-4227-4271-8017-3894077a0ee0\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.408533", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.409795", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.418738", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.419124", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.427848", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.428297", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.463349", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.464100", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.481129", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.481913", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.494018", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.514376", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:00 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.528366", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.529026", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.541559", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:00.542048", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.314355", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:28:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ac0483b34d671786a99a784a2c4'), (b'X-Saia-Req-Id', b'1efebc4c-8d50-47cb-9c1d-a294d4898da1'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.316244", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.355715", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.359196", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.373651", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.375011", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.393341", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.394243", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.410384", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.412746", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:02.412604Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"1efebc4c-8d50-47cb-9c1d-a294d4898da1\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.445069", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.446947", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.472069", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.473848", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.493288", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.494170", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.570106", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.571131", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.586811", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.587943", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:02.602731", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.405538", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:28:04 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ac268c03824fc5d6996814348d9'), (b'X-Saia-Req-Id', b'e55aed8c-6184-44c0-8a64-4c8bd36cb056'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.443927", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.445732", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.457342", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:04 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.460129", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.461273", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.473111", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.474661", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.487451", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.488997", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.503204", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.505663", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.519620", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.533946", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.537571", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:04.537480Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"e55aed8c-6184-44c0-8a64-4c8bd36cb056\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.601887", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:04.601796Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:28:04.604008", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:04.602984Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '36a9611d-044b-c3d1-97cf-be2808d70066'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.024856", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.025648", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.062294", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.063364", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.076025", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.094299", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:05 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.105077", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.105716", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.117214", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:05.117778", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.376522", "level": "INFO", "message": "\u001b[2m2025-06-13T03:28:21.376025Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.435387", "level": "INFO", "message": "\u001b[2m2025-06-13T03:28:21.435264Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.568440", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.571465", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.607041", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.608605", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.771873", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x129b987e0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.772527", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.947251", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12de4f1b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.948235", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.993860", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.994549", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:21.999768", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.006630", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.008522", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12de81f50>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.023790", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.024878", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.038356", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.050516", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.051521", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.063701", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.087331", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:22 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.098313", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.098945", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.109183", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:22.109687", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.367022", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:28:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ad69ba1d058c36e14ab8ad7650a'), (b'X-Saia-Req-Id', b'bb87d228-2b3e-4a60-b145-bc6b025c12fc'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.369321", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.407178", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.410438", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.427735", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.434710", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.463942", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.467883", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.489507", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.497189", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:23.497013Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"bb87d228-2b3e-4a60-b145-bc6b025c12fc\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.540155", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.543431", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.563923", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.564819", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.578410", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.579917", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.635604", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.636301", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.647146", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.647732", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.662626", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.677533", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:23 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.690792", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.691419", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.703503", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:23.704227", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.107600", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:28:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ad73fbee1dc1d6397cb29825ba9'), (b'X-Saia-Req-Id', b'7fef7af8-3490-4329-b07b-df34f76a20a1'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.108502", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.141849", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.142672", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.152736", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.153369", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.163283", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.163840", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.173953", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.175384", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:25.175303Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"7fef7af8-3490-4329-b07b-df34f76a20a1\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.198695", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.200126", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.210922", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.211348", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.221425", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.221877", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.233997", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.234612", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.244885", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.245488", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.256473", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.270770", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.280839", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.281387", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.291288", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:25.291780", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:26.950827", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:28:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ad97891f9672b1defa3e2cde4a1'), (b'X-Saia-Req-Id', b'3d9217c5-8f7e-4704-9537-60e523692aeb'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:26.951791", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:28:26.981973", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:28:26.982900", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:28:26.993308", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:26.993992", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.004299", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.004766", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.014985", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.016643", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:27.016566Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"3d9217c5-8f7e-4704-9537-60e523692aeb\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.034466", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:27.034398Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.035903", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:28:27.035013Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'a218db24-0f86-55e1-bbd3-a68ca67ec6f3'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.310671", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.311885", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.340851", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.342317", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.354324", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.356847", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:28:27 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.379572", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.390205", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.428358", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:27.429130", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:28:56.129452", "level": "INFO", "message": "\u001b[2m2025-06-13T03:28:56.129205Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:29:01.806394", "level": "INFO", "message": "\u001b[2m2025-06-13T03:29:01.806289Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.368163", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.370901", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12f31b2f0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.416655", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.423072", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.448573", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.450515", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:02.475276", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:22.477871", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:22.510866", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:22.512021", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.334567", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.336545", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12f31bf20>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.370160", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.371085", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.389530", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.390380", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:23.408362", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:43.410395", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:43.459753", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:43.461790", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.074871", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.077441", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12def43d0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.113084", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.114559", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.132568", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.134037", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:45.153029", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:29:54.967673", "level": "WARNING", "message": "error ignored in rollback on <psycopg.AsyncConnection [ACTIVE] (host=localhost user=postgres database=bot) at 0x128487ce0>: sending query failed: another command is already in progress", "module": "connection_async", "function": "__aexit__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg/connection_async.py", "line": 165, "environment": "development"}
{"timestamp": "2025-06-13T00:29:55.001367", "level": "WARNING", "message": "closing returned connection: <psycopg.AsyncConnection [ACTIVE] (host=localhost user=postgres database=bot) at 0x128487ce0>", "module": "pool_async", "function": "_reset_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 833, "environment": "development"}
{"timestamp": "2025-06-13T00:29:55.005127", "level": "WARNING", "message": "discarding closed connection: <psycopg.AsyncConnection [BAD] at 0x128487ce0>", "module": "pool_async", "function": "_return_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 744, "environment": "development"}
{"timestamp": "2025-06-13T00:30:00.047149", "level": "WARNING", "message": "error connecting in 'pool-1': connection timeout expired", "module": "pool_async", "function": "_add_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 691, "environment": "development"}
{"timestamp": "2025-06-13T00:30:03.161408", "level": "INFO", "message": "\u001b[2m2025-06-13T03:30:03.161181Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.155637", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.159348", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.194568", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.197509", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.720985", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.722971", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12def7af0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.758082", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.759159", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.778012", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.778866", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:05.798323", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:24.809833", "level": "INFO", "message": "\u001b[2m2025-06-13T03:30:24.808423Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:30:24.963089", "level": "WARNING", "message": "error connecting in 'pool-1': connection timeout expired", "module": "pool_async", "function": "_add_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 691, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.160355", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.196743", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.198807", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.217834", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.374370", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:30:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.422504", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.423399", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.439761", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.440358", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.462506", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.464043", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12dec02c0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.480300", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.481443", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.497595", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.498287", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.512636", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.513355", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:30:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.527440", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.528030", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.543039", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.543727", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.603455", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12f323430>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:25.604068", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:26.694576", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x128bc7410>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:26.695411", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:26.736221", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:26.739071", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:26.751920", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:26.755347", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.719178", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:30:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9b52da0db84efeb64937cc4b8f87'), (b'X-Saia-Req-Id', b'07ff07ec-5754-4998-b088-c55be719b5de'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.735028", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.773112", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.774604", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.787718", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.788883", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.803388", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.805361", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.818703", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.822305", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:30:28.822130Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"07ff07ec-5754-4998-b088-c55be719b5de\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.849034", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.850811", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.862912", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.863753", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.875590", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:28.876054", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.089088", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.093021", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.151283", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.153221", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.169064", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.171523", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:30:29 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.191813", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.193859", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.208311", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:29.210501", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.037115", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:30:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9b551307e5a082a38daede7794c7'), (b'X-Saia-Req-Id', b'b147dc78-31df-49ca-9411-145c3fc7049f'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.054045", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.111402", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.114089", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.133217", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.135435", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.193282", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.195269", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.209302", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.211564", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:30:30.211483Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"b147dc78-31df-49ca-9411-145c3fc7049f\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.241057", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.241198", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.243513", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.259824", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.263436", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.280148", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.280902", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.298412", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.299364", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.314360", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.314921", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.331066", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:30:30 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.366774", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.367313", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.383978", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:30.385102", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.340685", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:30:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9b5637286d94fc291e6f9bcc1834'), (b'X-Saia-Req-Id', b'39952b29-c3ee-4dfd-ad2c-aee02a40146a'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.341549", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.375306", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.376136", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.388505", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.389370", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.401764", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.402446", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.415329", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.417170", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:30:31.417086Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"39952b29-c3ee-4dfd-ad2c-aee02a40146a\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.455433", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:30:31.455322Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.457375", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:30:31.456404Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '04033253-ef13-f6e3-5f4e-a41f4dff3fff'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.912352", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.917280", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.981929", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:31.984128", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:32.010495", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:32.013050", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:30:32 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:32.035084", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:32.037402", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:32.058839", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:30:32.060877", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.369109", "level": "INFO", "message": "\u001b[2m2025-06-13T03:33:52.368699Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.407234", "level": "INFO", "message": "\u001b[2m2025-06-13T03:33:52.407113Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.534790", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.536664", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.570644", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.571613", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.763161", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12dea89d0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.765267", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1281dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.980438", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:52.984454", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x128c66810>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.045348", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.046413", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.068243", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.069436", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.101803", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.106982", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:33:53 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.128067", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.128641", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.141497", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.141953", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.205221", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12de423d0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.206003", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.219409", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.219828", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.232633", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:53.233124", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.839376", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:33:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c212fda65d997e48e1a1fc1c4ec'), (b'X-Saia-Req-Id', b'03b511e3-e1b7-4713-8984-ebe54892f7c3'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.842860", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.883913", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.886362", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.914436", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.917889", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.940272", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.950643", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.972885", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:33:54.980867", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:33:54.980653Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[15].role\\'}, \\'requestId\\': \\'03b511e3-e1b7-4713-8984-ebe54892f7c3\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.033919", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.036331", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.056984", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.058071", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.078735", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.079266", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.171714", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.172459", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.186362", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.186990", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.200322", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.201108", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:33:55 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.214441", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.214985", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.228026", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:55.228500", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.479422", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:33:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c237cf0e855d206f346c4233a65'), (b'X-Saia-Req-Id', b'7f1d57e2-def3-472f-aa9e-8195c6563448'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.480239", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.514210", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.514764", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.528026", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.528547", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.541390", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.542101", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.554872", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.556348", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:33:56.556267Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[15].role\\'}, \\'requestId\\': \\'7f1d57e2-def3-472f-aa9e-8195c6563448\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.583544", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:11:54\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.585035", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.599276", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.599769", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.613846", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.614258", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.757640", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.758398", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.795969", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.797446", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.814031", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.816092", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:33:56 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.831713", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.834434", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.854607", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:56.855999", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.695670", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:33:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c24c5ada9f65c1685a2f93f5a01'), (b'X-Saia-Req-Id', b'72de8079-e1c4-446f-932a-5d839c073fe0'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.696615", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.732343", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.733055", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.746779", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.747564", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.761005", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.762166", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.776223", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.780165", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:33:57.780096Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[15].role\\'}, \\'requestId\\': \\'72de8079-e1c4-446f-932a-5d839c073fe0\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.802164", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:33:57.802085Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.806516", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:33:57.805487Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '986f29a7-e454-ae9c-1a2d-30421b028d75'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.879615", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.882678", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.902918", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.904969", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.924421", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.925694", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:33:57 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.941547", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.943216", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.959649", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:33:57.961341", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:23.946665", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:23.946303Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T00:34:28.240013", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:28.239239Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T00:34:28.793686", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:28.793589Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T00:34:29.580991", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:29.580916Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T00:34:30.396919", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:30.396824Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T00:34:30.421252", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:30.421193Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T00:34:32.702507", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:32.702429Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:34:32.722609", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:32.722542Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T00:34:32.781207", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:32.781141Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T00:34:32.824744", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:32.824670Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.190034", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.192106", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.287757", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.289403", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130b4aba0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.323838", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.324529", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.350042", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.350875", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.366786", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.367492", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:34:33 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.382246", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.382684", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.386662", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130b4ba10>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.396583", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.397113", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117b2c290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.411600", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.558683", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130b92350>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.560497", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.578862", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.579296", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.592583", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:33.593032", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.085492", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:34:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=ae757607-1539-4be5-bd6a-40d08acaabd8; Max-Age=1033353134; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=JoCTUTbX12ZIq%2F7fSCciivm8V5zq5YaGeLPEricWk%2B4%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c4989235e4a76d5828c31f5c9ce'), (b'X-Saia-Req-Id', b'0ea3f2a3-619c-432d-9102-0cf5ca672587'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.090571", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.143487", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.164829", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.199350", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.204497", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.227289", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.231100", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.261656", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.265957", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:34:35.265786Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"0ea3f2a3-619c-432d-9102-0cf5ca672587\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.308420", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.310770", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.328343", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.329996", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.349475", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.350485", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.444447", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.445150", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.460446", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.461082", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.476151", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.476826", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:34:35 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.491265", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.491813", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.506506", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:35.506990", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.824247", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:34:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c4b6c16e7abe19bcc519faae10e'), (b'X-Saia-Req-Id', b'751e6114-2808-454c-90ac-a27ab22e6364'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.825138", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.872097", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.872986", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.886935", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.888413", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.903666", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.905909", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.933660", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.936220", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:34:36.936137Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"751e6114-2808-454c-90ac-a27ab22e6364\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.964844", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'Un \"string\" es un t\u00e9rmino en programaci\u00f3n que se refiere a una secuencia de caracteres. Los strings se utilizan para representar texto y pueden incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. En muchos lenguajes de programaci\u00f3n, los strings se delimitan con comillas simples (\\' \\') o dobles (\" \"). Los strings son un tipo de dato fundamental y se utilizan ampliamente para manipular y mostrar texto en aplicaciones y programas.', 'role': 'assistant'}, {'content': 'hola me podes decr que es un string?', 'role': 'user'}, {'content': '\u00a1Hola! Claro, un \"string\" es una secuencia de caracteres utilizada en programaci\u00f3n para representar texto. Puede incluir letras, n\u00fameros, s\u00edmbolos y espacios. Por ejemplo, \"Hola, mundo!\" es un string. Los strings son un tipo de dato muy com\u00fan en la mayor\u00eda de los lenguajes de programaci\u00f3n y se utilizan para manejar y mostrar texto.', 'role': 'assistant'}, {'content': 'hola ', 'role': 'user'}, {'content': '\u00a1Hola! \u00bfEn qu\u00e9 puedo ayudarte hoy?', 'role': 'assistant'}, {'content': 'asdadsasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres. Si tienes alguna pregunta o necesitas ayuda con algo, no dudes en dec\u00edrmelo. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': '\"Assistant-ui\" typically refers to the user interface (UI) of an assistant application or software. This UI is the part of the software that users interact with directly. It includes elements like buttons, text fields, menus, and other interactive components that allow users to communicate with the assistant, input commands, and receive responses. The design and functionality of an assistant UI are crucial for providing a seamless and intuitive user experience. If \"assistant-ui\" refers to a specific product or service, please provide more context, and I can look up more detailed information.', 'role': 'assistant'}, {'content': 'asdasdasdasdasdasd', 'role': 'user'}, {'content': 'Parece que escribiste una secuencia aleatoria de caracteres nuevamente. Si tienes alguna pregunta o necesitas ayuda con algo espec\u00edfico, h\u00e1zmelo saber. \u00a1Estoy aqu\u00ed para ayudarte!', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_sfE3ZiyKjEsPrbcYGyZxxnZy', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'como seria ser?', 'role': 'user'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.968112", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:36.985442", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.008920", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.032448", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.032575", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.038680", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.058947", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.060294", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.083568", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.101056", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.106110", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:34:37 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.124941", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.129302", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.145961", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:37.152249", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.465322", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:34:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c4d5721a2579d88a845c0704c40'), (b'X-Saia-Req-Id', b'b10238ae-413b-4055-a2b0-c044680d17e6'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.470106", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.532677", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.544468", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.579271", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.587322", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.622675", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.629103", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.656724", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.662978", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:34:38.662766Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_sfE3ZiyKjEsPrbcYGyZxxnZy. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[15].role\"},\"requestId\":\"b10238ae-413b-4055-a2b0-c044680d17e6\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.683023", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.698212", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.710059", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:34:38.709965Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.726615", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.733407", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:34:38.728941Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '2496bce7-84bf-55ab-d9e9-957f8b064724'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.749616", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.776407", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.777576", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:34:38 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.793850", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.795589", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.813123", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:38.814132", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.338945", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.341197", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.410105", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.416229", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.447124", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.449696", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:34:39 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.474528", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.480057", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.500969", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:39.504394", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:34:47.419867", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:47.419069Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m91ab9486-6d98-405e-84c0-4e40efdaa6ac\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:34:47.442682", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:34:47.440422Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mtoken_validation_failed       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m\"invalid literal for int() with base 10: '91ab9486-6d98-405e-84c0-4e40efdaa6ac'\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_current_user\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m89\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\", line 77, in get_current_user\n    user_id_int = int(user_id)\nValueError: invalid literal for int() with base 10: '91ab9486-6d98-405e-84c0-4e40efdaa6ac'", "module": "auth", "function": "get_current_user", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 89, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.344366", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.352189", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.389920", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.391576", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.407758", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.411095", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.429379", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.432690", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.448691", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.450649", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.469321", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.471059", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.490896", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T00:34:54.759943", "level": "INFO", "message": "\u001b[2m2025-06-13T03:34:54.759829Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T03:34:54.759497+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T00:35:08.004308", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:08.003960Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:35:08.034456", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:08.034374Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T00:35:08.068779", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:08.068711Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T03:35:08.068546+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T00:35:08.070745", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:08.070662Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T03:35:08.068546+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.076230", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:38.075961Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.113767", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:38.113677Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.233640", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.241934", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.287474", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.288510", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.469769", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x135c639d0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.473750", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117b2c290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.689166", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130b5b820>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.691706", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.697641", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.745164", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.747329", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x135c68190>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.771754", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.772621", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.795965", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.799386", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.819399", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.819896", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.840226", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.863464", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.864146", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:35:38 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.881130", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.881623", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.897918", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:38.898425", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:39.901596", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 03:35:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c8acf8ec93f0fe76717512436cf'), (b'X-Saia-Req-Id', b'b4c14ac0-c167-445e-9bfd-ae15283416ae'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:39.902888", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:39.947217", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:39.947858", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:39.985377", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:39.986608", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.027018", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:40.026946Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.039108", "level": "DEBUG", "message": "Loaded CA certs", "module": "utils", "function": null, "filename": "src/utils.rs", "line": 31, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.059481", "level": "DEBUG", "message": "starting new connection: https://lite.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.060440", "level": "DEBUG", "message": "resolving lite.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.100911", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.145184", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.211552", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://lite.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.335409", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.393830", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.395123", "level": "INFO", "message": "response: https://lite.duckduckgo.com/lite/ 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.412913", "level": "DEBUG", "message": "_get_url() https://lite.duckduckgo.com/lite/ 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.414095", "level": "INFO", "message": "Error to search using lite backend: https://lite.duckduckgo.com/lite/ 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.430966", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.432560", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.449307", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.450769", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.468422", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.470105", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:35:40 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.487325", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.488907", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.508071", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:40.509268", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.186365", "level": "DEBUG", "message": "starting new connection: https://html.duckduckgo.com/", "module": "connect", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/connect.rs", "line": 381, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.187273", "level": "DEBUG", "message": "resolving html.duckduckgo.com", "module": "dns", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/dns.rs", "line": 126, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.221417", "level": "DEBUG", "message": "connecting to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 730, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.268864", "level": "DEBUG", "message": "connected to 191.235.123.80:443", "module": "http", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/connect/http.rs", "line": 733, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.823672", "level": "DEBUG", "message": "pooling idle connection for PoolKey { uri: https://html.duckduckgo.com/, alpn_protos: None, network: default }", "module": "pool", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/rquest-2.2.1/src/util/client/pool.rs", "line": 380, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.936863", "level": "DEBUG", "message": "inserting secure cookie 'kl'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.973921", "level": "DEBUG", "message": "inserting secure cookie 'df'", "module": "cookie_store", "function": null, "filename": "/Users/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cookie_store-0.21.1/src/cookie_store.rs", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.974381", "level": "INFO", "message": "response: https://html.duckduckgo.com/html 202", "module": "lib", "function": null, "filename": "src/lib.rs", "line": 464, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.990696", "level": "DEBUG", "message": "_get_url() https://html.duckduckgo.com/html 202", "module": "duckduckgo_search", "function": "_get_url", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 124, "environment": "development"}
{"timestamp": "2025-06-13T00:35:41.991155", "level": "INFO", "message": "Error to search using html backend: https://html.duckduckgo.com/html 202 Ratelimit", "module": "duckduckgo_search", "function": "text", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py", "line": 181, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.014634", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:35:42.014549Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: https://html.duckduckgo.com/html 202 Ratelimit\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.021529", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:35:42.015132Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'https://html.duckduckgo.com/html 202 Ratelimit'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 186, in _tool_call\n    tool_result = await self.tools_by_name[tool_call[\"name\"]].ainvoke(tool_call[\"args\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 523, in ainvoke\n    return await self.arun(tool_input, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 887, in arun\n    raise error_to_raise\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 856, in arun\n    response = await coro_with_context(coro, context)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/tools/base.py\", line 638, in _arun\n    return await run_in_executor(None, self._run, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 616, in run_in_executor\n    return await asyncio.get_running_loop().run_in_executor(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"/opt/homebrew/Cellar/python@3.13/3.13.2/Frameworks/Python.framework/Versions/3.13/lib/python3.13/concurrent/futures/thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_core/runnables/config.py\", line 607, in wrapper\n    return func(*args, **kwargs)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/tools/ddg_search/tool.py\", line 112, in _run\n    raw_results = self.api_wrapper.results(\n        query, self.max_results, source=self.backend\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 146, in results\n    for r in self._ddgs_text(query, max_results=max_results)\n             ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langchain_community/utilities/duckduckgo_search.py\", line 64, in _ddgs_text\n    ddgs_gen = ddgs.text(\n        query,\n    ...<4 lines>...\n        backend=self.backend,\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/duckduckgo_search/duckduckgo_search.py\", line 184, in text\n    raise DuckDuckGoSearchException(err)\nduckduckgo_search.exceptions.DuckDuckGoSearchException: https://html.duckduckgo.com/html 202 Ratelimit\nDuring task with name 'tool_call' and id 'c8e9ae1e-c402-f61b-1f57-512c27a5012f'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.035424", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.040324", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.065485", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.066305", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.091093", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.091648", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:35:42 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.108677", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.109161", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.125569", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:42.126131", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.381123", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:55.380570Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.441024", "level": "INFO", "message": "\u001b[2m2025-06-13T03:35:55.440887Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.569214", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.571016", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.628255", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.629132", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.795944", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x135cc89d0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.796693", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117b2c290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.997179", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117eb8dd0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:55.998051", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.027640", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.036985", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.038036", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x135c3fb10>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.053453", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.054168", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.083768", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.084370", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.104959", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.105685", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.122590", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.139097", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.140456", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:35:56 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.157152", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.158337", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.176062", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:56.177196", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.379111", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:35:59 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c9cd137d4d12bcd940802e48292'), (b'X-Saia-Req-Id', b'81a793b8-87e0-4e5d-974d-61b818411c98'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.385182", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.452531", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.456301", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.499784", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.513006", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.541314", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.550666", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.578479", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.580567", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:35:59.580484Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'81a793b8-87e0-4e5d-974d-61b818411c98\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.605418", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.607081", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.625874", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.626966", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.646498", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.647067", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.716104", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.716831", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.736484", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.737316", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.757312", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.758050", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:35:59 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.776383", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.777193", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.795320", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:35:59.795914", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.213298", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:01 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9c9ffdfca5ba3356e9f6493b523d'), (b'X-Saia-Req-Id', b'278b5a09-7d6d-4695-86df-6428f9e4c014'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.221791", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.276506", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.286605", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.337738", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.342259", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.373784", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.377323", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.403406", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.405733", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:01.405607Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'278b5a09-7d6d-4695-86df-6428f9e4c014\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.432512", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.434157", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.452978", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.453514", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.471725", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.472296", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.835113", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.836092", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.870256", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.870985", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.888363", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.889120", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:01 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.907617", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.909442", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.930587", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:01.932462", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.533246", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ca15ca8bdebaf87c832a02114be'), (b'X-Saia-Req-Id', b'1783e898-d257-4040-b347-04c6093a5ca5'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.534047", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.575714", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.576306", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.593946", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.594645", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.611964", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.613007", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.630367", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.631796", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:02.631725Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'1783e898-d257-4040-b347-04c6093a5ca5\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.658002", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:02.657930Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.661357", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:02.658732Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '48a7d1d1-33d4-18d9-e20a-0a75fa1b7744'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.954030", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:02.956019", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.012838", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.018500", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.038828", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.040310", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:03 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.060403", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.065753", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.090382", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:03.092820", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.139144", "level": "INFO", "message": "\u001b[2m2025-06-13T03:36:07.138868Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.156871", "level": "INFO", "message": "\u001b[2m2025-06-13T03:36:07.156545Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.271266", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': 'hi', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.274988", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.331297", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.336013", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.362000", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.364199", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.722030", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.727693", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130b59810>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.776602", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.777751", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.798912", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.800036", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.824717", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.825335", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:07 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.844130", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.844813", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.866249", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:07.866916", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.863070", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:08 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ca7a10c7125fc00b6c555bf3510'), (b'X-Saia-Req-Id', b'8f4b4da6-b33f-4ebf-913b-b32b42a2bc11'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.864219", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.904638", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.905444", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.923413", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.924153", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.942722", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.943669", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.961954", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.963778", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:08.963663Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'8f4b4da6-b33f-4ebf-913b-b32b42a2bc11\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.987559", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': 'hi', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:08.988735", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.006494", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.006882", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.024704", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.025082", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.396811", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.399219", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.487140", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.495328", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.522603", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.534134", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:09 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.558295", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.560414", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.582924", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:09.584780", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.397577", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ca909a8e8ec1b8c060f5e96d61c'), (b'X-Saia-Req-Id', b'8a94e4f7-59da-46c3-84e3-dd1ba30756ca'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.474969", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.572199", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.572896", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.592508", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.593219", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.611612", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.612439", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.632041", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.633928", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:10.633845Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'8a94e4f7-59da-46c3-84e3-dd1ba30756ca\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.659745", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': 'hi', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.660923", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.683465", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.684073", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.712237", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:10.712990", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.128433", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.130161", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.182699", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.185024", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.206327", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.209109", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:11 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.231532", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.233997", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.257257", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:11.263837", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.266584", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9caaee54f2c69f183f2f2f9ae713'), (b'X-Saia-Req-Id', b'9391857b-81c8-4f17-b2ff-3c406c20cd99'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.270340", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.330710", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.333973", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.371095", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.402910", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.430274", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.434867", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.460740", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.462514", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:12.462428Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'9391857b-81c8-4f17-b2ff-3c406c20cd99\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.496834", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:12.496679Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.500358", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:12.498155Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '8e0077d4-0918-3eb2-0254-74cca8aa321d'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.799313", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.800065", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.842500", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.843181", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.861179", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.861914", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:12 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.880385", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.880937", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.900132", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:12.900631", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.110249", "level": "INFO", "message": "\u001b[2m2025-06-13T03:36:44.110030Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.149664", "level": "INFO", "message": "\u001b[2m2025-06-13T03:36:44.149564Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.263543", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': 'hi', 'role': 'user'}, {'content': 'como se dice hola en ingels?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.266290", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.302540", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.303380", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.596599", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117e83570>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.600500", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117b2c290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.712033", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.716457", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x135cb1480>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.761203", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.770757", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.809600", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.811236", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130bb3350>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.813578", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.843545", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.845185", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.877426", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.878501", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:44 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.899010", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.900550", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.922047", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.922515", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.945279", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.945803", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:44.966642", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.419170", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ccd13d792b110693c4f966f0e70'), (b'X-Saia-Req-Id', b'f0cc14f1-33b8-40ca-9c3e-07520cbdd172'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.432883", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.477258", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.480238", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.506540", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.509400", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.538496", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.548797", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.572873", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.580208", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:46.580126Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'f0cc14f1-33b8-40ca-9c3e-07520cbdd172\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.608576", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': 'hi', 'role': 'user'}, {'content': 'como se dice hola en ingels?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.611942", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.635103", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.638706", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.663424", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:46.669000", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.001923", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.002709", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.053603", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.054307", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.073619", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.074183", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:47 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.093191", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.093650", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.112711", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:47.113168", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.152924", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9ccedd4a6408d9837f110a1fda50'), (b'X-Saia-Req-Id', b'6c61e05a-31ef-419a-b11d-ead900b49dbd'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.153835", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.198273", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.198817", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.218312", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.218838", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.237816", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.238648", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.257608", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.259014", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:48.258948Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'6c61e05a-31ef-419a-b11d-ead900b49dbd\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.282630", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 00:34:30\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_8SEl4TfP46jiqYrBkj8VghHh', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'What is the weather in Tokyo?', 'role': 'user'}, {'content': 'hi', 'role': 'user'}, {'content': 'como se dice hola en ingels?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.283771", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.302463", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.302927", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.320948", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.321492", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.642471", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.646145", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.696016", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.698704", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.731644", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.734624", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:48 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.772772", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.773622", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.796853", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:48.797579", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.554588", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 03:36:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684b9cd02498c6ceba6fcf93611a76aa'), (b'X-Saia-Req-Id', b'989436d3-6555-4b14-bbc9-3972e6a1014f'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.557034", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.615603", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.617182", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.648905", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.650418", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.688780", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.690211", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.711741", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.713466", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:49.713369Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Error code: 400 - {\\'error\\': {\\'message\\': \"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_8SEl4TfP46jiqYrBkj8VghHh. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\", \\'code\\': \\'8024\\', \\'type\\': \\'invalid_request_error\\', \\'param\\': \\'messages.[3].role\\'}, \\'requestId\\': \\'989436d3-6555-4b14-bbc9-3972e6a1014f\\'}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.738341", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:49.738276Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError getting response: Failed to get a response from the LLM after 3 attempts\u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m300\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "get_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 300, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.740303", "level": "ERROR", "message": "\u001b[2m2025-06-13T03:36:49.738813Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mchat_request_failed           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m73\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m13f5cc72-d414-4039-83fc-e15b8aad88d7\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 65, in chat\n    result = await agent.get_response(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_request.messages, session.id, user_id=session.user_id\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 301, in get_response\n    raise e\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 295, in get_response\n    response = await self._graph.ainvoke(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n        {\"messages\": dump_messages(messages), \"session_id\": session_id}, config\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2892, in ainvoke\n    async for chunk in self.astream(\n    ...<19 lines>...\n            chunks.append(chunk)\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'a213c6db-84fa-74c8-4ae7-23fe156f882a'", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 73, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.828527", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.829296", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.849120", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.849815", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.869497", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.870139", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 03:36:49 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.889590", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.890192", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.909626", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T00:36:49.910164", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:41:20.180738", "level": "INFO", "message": "\u001b[2m2025-06-13T11:41:20.171417Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T08:41:32.896279", "level": "INFO", "message": "\u001b[2m2025-06-13T11:41:32.895641Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T08:41:36.422013", "level": "INFO", "message": "\u001b[2m2025-06-13T11:41:36.421870Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T08:41:42.325065", "level": "INFO", "message": "\u001b[2m2025-06-13T11:41:42.324907Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T08:41:43.904549", "level": "INFO", "message": "\u001b[2m2025-06-13T11:41:43.904446Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T08:41:43.963011", "level": "INFO", "message": "\u001b[2m2025-06-13T11:41:43.962925Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.590767", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.639375", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.639976", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.663964", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.664619", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.684866", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.685282", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.704818", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.705317", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.725592", "level": "DEBUG", "message": "Calling on_field_name with data[47:57]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.726075", "level": "DEBUG", "message": "Calling on_field_data with data[58:66]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.747775", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:01.748205", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T08:46:02.075268", "level": "INFO", "message": "\u001b[2m2025-06-13T11:46:02.075157Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T11:46:02.044997+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T08:46:23.233549", "level": "INFO", "message": "\u001b[2m2025-06-13T11:46:23.233211Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T08:46:23.343364", "level": "INFO", "message": "\u001b[2m2025-06-13T11:46:23.343273Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T08:46:23.345416", "level": "INFO", "message": "\u001b[2m2025-06-13T11:46:23.345338Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T11:46:23.345031+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T08:46:23.371064", "level": "INFO", "message": "\u001b[2m2025-06-13T11:46:23.370942Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T11:46:23.345031+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T08:47:02.672236", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:02.671484Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T08:47:02.759744", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:02.759644Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_received         \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m57\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 57, "environment": "development"}
{"timestamp": "2025-06-13T08:47:02.763787", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:02.763731Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T08:47:02.867790", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:02.867680Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.362739", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': False, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.388892", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.399542", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.401232", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x132f7dbe0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.425850", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.451149", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.452903", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.474741", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.476282", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.516788", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:47:03 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.522289", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.546029", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.547676", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.570379", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.764280", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x132f7e7b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:03.803515", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:04.506989", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1133ab110>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:04.545398", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:04.547035", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:04.570299", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:04.572479", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:04.600677", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.878329", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 11:47:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=03c2a9bf-2c3c-44b3-98dd-756720bd9417; Max-Age=1033323583; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=r7sT2Fsf8bzqV2QuOu%2FuYAld8dc%2FXQ4DtLnza4UWajs%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c0fb8326decc5a1b54bf9754ffae9'), (b'X-Saia-Req-Id', b'c60a2703-01c0-4bef-b84a-314675e55ebc'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.920572", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.921379", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.947883", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.948759", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.971353", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T08:47:05.978256", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:05.978164Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.041828", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:06.041680Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mchat_request_processed        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "chatbot", "function": "chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.096875", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.129330", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.129934", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.155115", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.155942", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.201482", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:47:06 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.202313", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.226214", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.226988", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:06.249037", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:23.984605", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:23.981362Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.070828", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:24.070738Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.169934", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.209174", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.212663", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.234631", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.378703", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x131596710>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.423329", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.568840", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11338b490>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.600145", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.608035", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.609191", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x131597b10>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.631518", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.631767", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.654276", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.654861", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.678600", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.678935", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.701124", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.701654", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.722954", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.744312", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:47:24 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.745137", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.764818", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.765426", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:24.785353", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.542489", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 11:47:25 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c0fcc1483b6cab31234cad1ada699'), (b'X-Saia-Req-Id', b'902aac77-2189-4e26-8d0c-0cc84225320c')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.583130", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.583903", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.796757", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.803413", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.846244", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.848062", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.870520", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.873137", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:47:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.897934", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.899554", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.927293", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:25.928978", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.060348", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.062087", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.086115", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.094509", "level": "INFO", "message": "\u001b[2m2025-06-13T11:47:26.094435Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.453233", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.454030", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.520383", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.520963", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.541281", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.541827", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:47:26 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.565066", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.565735", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.586289", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:47:26.586849", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:53.496604", "level": "INFO", "message": "\u001b[2m2025-06-13T11:49:53.496293Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T08:49:53.555758", "level": "INFO", "message": "\u001b[2m2025-06-13T11:49:53.555612Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T08:49:53.767589", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:49:53.771442", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:49:53.814523", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:49:53.815364", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.207333", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.209257", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x131595310>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.250210", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.251956", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.284105", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.285150", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.310734", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.314828", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:49:54 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.355814", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.357498", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.382204", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:49:54.387246", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:07.595932", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:07.659094", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:08.919748", "level": "DEBUG", "message": "2 retries left", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1587, "environment": "development"}
{"timestamp": "2025-06-13T08:50:08.921019", "level": "INFO", "message": "Retrying request to /chat/completions in 0.454461 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-13T08:50:09.447195", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:09.453601", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:09.501790", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:09.504186", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:09.531539", "level": "DEBUG", "message": "1 retry left", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1585, "environment": "development"}
{"timestamp": "2025-06-13T08:50:09.534743", "level": "INFO", "message": "Retrying request to /chat/completions in 0.886396 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.454443", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.456626", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.577566", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.579244", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.609303", "level": "DEBUG", "message": "Raising connection error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1533, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.615250", "level": "ERROR", "message": "\u001b[2m2025-06-13T11:50:10.615038Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Connection error.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.661832", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.664896", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.703061", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.704405", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.736909", "level": "DEBUG", "message": "2 retries left", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1587, "environment": "development"}
{"timestamp": "2025-06-13T08:50:10.743695", "level": "INFO", "message": "Retrying request to /chat/completions in 0.406517 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.040990", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.049119", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.703085", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.180844", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.721954", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1315b4770>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.804008", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.804298", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.861583", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.919543", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.864505", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.925851", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.961543", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:11.962075", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.012052", "level": "DEBUG", "message": "1 retry left", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1585, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.072846", "level": "INFO", "message": "Retrying request to /chat/completions in 0.808390 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.079207", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:50:12 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.133818", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.135207", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.177888", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.179219", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.884513", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.898049", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.980580", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:12.984411", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.015595", "level": "DEBUG", "message": "Raising connection error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1533, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.034026", "level": "ERROR", "message": "\u001b[2m2025-06-13T11:50:13.033882Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Connection error.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.088115", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.108057", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.146737", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.148208", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.178212", "level": "DEBUG", "message": "2 retries left", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1587, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.179467", "level": "INFO", "message": "Retrying request to /chat/completions in 0.499899 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.239213", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.242010", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.293545", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.294698", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.326327", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.328686", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:50:13 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.376928", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.377741", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.451098", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.451698", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.719361", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.720669", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.770835", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.771382", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.804103", "level": "DEBUG", "message": "1 retry left", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1585, "environment": "development"}
{"timestamp": "2025-06-13T08:50:13.804866", "level": "INFO", "message": "Retrying request to /chat/completions in 0.887958 seconds", "module": "_base_client", "function": "_retry_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1590, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.720598", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.722014", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.780994", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(8, 'nodename nor servname provided, or not known'))", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.781620", "level": "DEBUG", "message": "Encountered Exception", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1521, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.831183", "level": "DEBUG", "message": "Raising connection error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1533, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.833233", "level": "ERROR", "message": "\u001b[2m2025-06-13T11:50:14.833148Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Connection error.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.929485", "level": "ERROR", "message": "\u001b[2m2025-06-13T11:50:14.929403Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.941178", "level": "ERROR", "message": "\u001b[2m2025-06-13T11:50:14.930542Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'b1f4be48-28bf-201b-0e08-1341c86fb9a2'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.997128", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:14.999587", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.063948", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.067166", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.142572", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.145748", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 11:50:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.185801", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.190651", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.218954", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T08:50:15.221730", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:16.108298", "level": "INFO", "message": "\u001b[2m2025-06-13T12:35:16.107500Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:35:27.529575", "level": "INFO", "message": "\u001b[2m2025-06-13T12:35:27.529136Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.011965", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.016401", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.161357", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.166182", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x113388e90>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.220624", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.242067", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.242891", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113388640>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.285589", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.288372", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.316435", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.355040", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.490976", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11338e7b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.529960", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.531375", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.593134", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.595281", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:28.669203", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.255740", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 12:35:29 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1b109a811533a43601c6b3a6398a'), (b'X-Saia-Req-Id', b'38523ba1-889d-40b7-87cd-8e10648a1e3c')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.333716", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.335796", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.802075", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.844500", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.921596", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:35:29.926072", "level": "INFO", "message": "\u001b[2m2025-06-13T12:35:29.925986Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T09:35:41.419008", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:35:41 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:41.429337", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:41.530350", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:41.531123", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:41.562140", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.071976", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.109876", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.114916", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.139360", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.141858", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.168444", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:35:42 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.170496", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.195853", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.198979", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:35:42.226393", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:17.891787", "level": "INFO", "message": "\u001b[2m2025-06-13T12:37:17.891474Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:37:17.955475", "level": "INFO", "message": "\u001b[2m2025-06-13T12:37:17.955386Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.069914", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your main purpose?', 'role': 'user'}, {'content': \"My main purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'this is a test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': \"My purpose is to assist you by providing accurate information, answering your questions, and helping you find solutions to your problems in a friendly and professional manner. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what is your value?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.127122", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.129198", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.157605", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.498191", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.553847", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1315f72f0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.555022", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.592289", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.593067", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.627692", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.629699", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.724911", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:37:18 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.725949", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.751592", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.752169", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:18.774877", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.163711", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113393130>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.264734", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.434788", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113393f00>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.481525", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.482421", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.506392", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.507127", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:19.532942", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.173854", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 12:37:20 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1b7f999970bc8ff4428ba33a81b7'), (b'X-Saia-Req-Id', b'72dcde2b-d6f2-42af-865b-b55694d5b718')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.223050", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.226568", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.287772", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.288713", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.411704", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.413065", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.459983", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.461349", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:37:20 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.504670", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.505695", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.537709", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:20.538333", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:21.729642", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:21.730406", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:21.772609", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:37:21.774901", "level": "INFO", "message": "\u001b[2m2025-06-13T12:37:21.774837Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35ma793e95c-d959-4cab-ae8e-bcbfd4b01b97\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.085852", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.087371", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.149190", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.150658", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.183444", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.186537", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:37:22 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.214133", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.215011", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.241653", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:37:22.243707", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:42.695878", "level": "INFO", "message": "\u001b[2m2025-06-13T12:42:42.693584Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:42:42.726870", "level": "INFO", "message": "\u001b[2m2025-06-13T12:42:42.726679Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:42:42.903418", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:42:42.905385", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:42.950222", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:42.954032", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.309552", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.312123", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130f0df20>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.359836", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.361491", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.388281", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.389869", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.416330", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.417006", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:42:43 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.454240", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.455045", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.487790", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.488381", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.701691", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112f9fe50>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.702267", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.927490", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112f9f750>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.929450", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.994282", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:43.995813", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:44.027686", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:44.042245", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.061762", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:42:46 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1cc4eb400e7e32de9253b95296ae'), (b'X-Saia-Req-Id', b'2a802fd0-2e5d-4a08-9142-fd50dba408e8'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.065833", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.124631", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.149495", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.193286", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.199944", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.232850", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.240135", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.269478", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.274125", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:42:46.273928Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"2a802fd0-2e5d-4a08-9142-fd50dba408e8\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.320408", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.327386", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.353794", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.361089", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.386651", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.387375", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.536927", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.537730", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.569190", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.569906", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.603734", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.612645", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:42:46 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.650841", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.651527", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.680614", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:46.681487", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.517439", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:42:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1cc6d377f5d29211cea9e7081e75'), (b'X-Saia-Req-Id', b'acc8ce9d-342d-4b43-84b4-c59fb3ae6188'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.518273", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.580016", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.581108", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.611207", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.612321", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.642364", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.643064", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.669555", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.671018", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:42:47.670941Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"acc8ce9d-342d-4b43-84b4-c59fb3ae6188\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.711769", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.713211", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.718499", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.736543", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.736966", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.760322", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.760921", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.785490", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.785782", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.808898", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.809440", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.833106", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:42:47 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.856476", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.858858", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.891844", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:47.893486", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.808153", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:42:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1cc74adf70ce51c4d19c374c1a04'), (b'X-Saia-Req-Id', b'6215ed6f-8c87-4d69-96f2-d066416ec87f'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.812216", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.877132", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.880492", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.915393", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.920388", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.948869", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.950280", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.977290", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:42:49.981307", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:42:49.981104Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"6215ed6f-8c87-4d69-96f2-d066416ec87f\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.035843", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:42:50.035742Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.041612", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:42:50.037898Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'ce8d39db-4f75-0667-8dcf-05ee4de14675'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.439108", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.439980", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.492103", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.492785", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.529910", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.530688", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:42:50 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.561742", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.562400", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.588779", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:42:50.589325", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:43.623023", "level": "INFO", "message": "\u001b[2m2025-06-13T12:43:43.621369Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.213027", "level": "INFO", "message": "\u001b[2m2025-06-13T12:43:47.212929Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.795638", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.797877", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1314eee00>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.854956", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.855949", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.898623", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.899685", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:43:47.945984", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:07.948689", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.003875", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.005033", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.613813", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.615990", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130f12f50>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.671470", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.672857", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.716059", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.717173", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:08.763355", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:28.765653", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:28.816575", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:28.818474", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.144781", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.146908", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130f12450>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.210955", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.212214", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.254215", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.255025", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:30.307711", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:37.719911", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:44:37.766132", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:37.770788", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:37.808647", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:37.987087", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130f795e0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.047519", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.193251", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130f78e60>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.249058", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.250120", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.292001", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.293439", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:38.335192", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:39.989834", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:44:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1d3688edabe8760ef0ab02993ca1'), (b'X-Saia-Req-Id', b'11b50b71-28d1-4402-bccc-5ba61c65f837'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.038248", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.039918", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.074347", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.085864", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.123492", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.125053", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.161927", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.163871", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.212371", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:44:40.212145Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"11b50b71-28d1-4402-bccc-5ba61c65f837\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.230561", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.328688", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.329686", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.382346", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.383254", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.424874", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.856952", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:44:40 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.900521", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.902687", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.931969", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:40.933406", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.466947", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.467802", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.522748", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.523433", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.568353", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.569357", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:44:41 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.609486", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.610150", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.648688", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:41.649472", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.242910", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:44:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1d38e9ad1a7537dd8500286ff6ab'), (b'X-Saia-Req-Id', b'b2ae87fe-43af-4e1b-a3a8-63cc758183df'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.244375", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.341630", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.342887", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.390999", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.391866", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.437063", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.437905", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.482375", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.484255", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:44:42.484172Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"b2ae87fe-43af-4e1b-a3a8-63cc758183df\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.549647", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.551423", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.591503", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.592086", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.624777", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.625361", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.696691", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.697586", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.749848", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.753861", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:42.788261", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.508654", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:44:43 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.566756", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.567373", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.610620", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.611442", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.984237", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:44:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1d3adec85d33592ec69137e5e77e'), (b'X-Saia-Req-Id', b'd554a31f-f2a3-409c-a4d4-6912e594c597'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:43.985777", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.040550", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.042312", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.078463", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.080588", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.114253", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.116302", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.153666", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.158715", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:44:44.158628Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"d554a31f-f2a3-409c-a4d4-6912e594c597\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.662972", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.663826", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.722736", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.723681", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:44.762848", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:50.060147", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:44:50.060035Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T09:44:50.121907", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:44:50.120752Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '5aa69194-103c-4fea-3740-5d47db3a9c95'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.288049", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:44:52 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.343315", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.344085", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.385319", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.385955", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.931083", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.932814", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.981407", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:52.982909", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:53.013684", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:53.015225", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:44:53 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:53.043445", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:53.045160", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:53.073622", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:44:53.074954", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.269963", "level": "INFO", "message": "\u001b[2m2025-06-13T12:45:11.268999Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.327580", "level": "INFO", "message": "\u001b[2m2025-06-13T12:45:11.327465Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.555148", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.557453", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.608256", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.609178", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.791139", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1315083d0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.792161", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.901658", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.906510", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130f7bf20>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.950139", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.953746", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.982868", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.983594", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130f33930>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:11.986419", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.014827", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.017290", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.048473", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.053524", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:45:12 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.081867", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.084216", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.123828", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.115726", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.158396", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.154911", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:12.190891", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.065298", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:45:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1d5847f55d1ea90bdfb40016eb1a'), (b'X-Saia-Req-Id', b'ea6a0d79-f403-4990-9258-525c1c02e2cb'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.067138", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.121309", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.124649", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.166235", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.169898", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.204320", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.206224", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.236405", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.242579", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:45:13.242365Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"ea6a0d79-f403-4990-9258-525c1c02e2cb\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.307888", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.310381", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.341857", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.342459", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.370182", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.370686", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.734495", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.735306", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.782947", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.783637", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.811853", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.812684", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:45:13 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.840264", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.841571", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.868681", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:13.870346", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.011701", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1d590fde47f4d6a64d4f7cd47fb1'), (b'X-Saia-Req-Id', b'93c96501-5fbb-4238-8c1c-2a8c8cf32315'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.012715", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.060744", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.065330", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.094539", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.096609", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.133334", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.134575", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.167089", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.173019", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:45:15.172935Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"93c96501-5fbb-4238-8c1c-2a8c8cf32315\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.228157", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.231263", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.271342", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.272102", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.317692", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.323434", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.405946", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.406959", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.456038", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.457134", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.508527", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.531281", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:45:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.566793", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.567418", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.600060", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:15.600718", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.366112", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1d5b7897f1abe88bfbeb60f8b32a'), (b'X-Saia-Req-Id', b'bb14b886-80b8-4b7d-a361-2cc8adffea0a'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.367002", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.425803", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.426914", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.470758", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.471578", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.510569", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.511140", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.553965", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.555800", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:45:17.555690Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"bb14b886-80b8-4b7d-a361-2cc8adffea0a\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.650275", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.651350", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.688775", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.689588", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.718926", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:45:17.718838Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.725304", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:17.727114", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:45:17.726167Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id 'fde30826-54a7-1e58-8224-dae18aa6c0c9'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T09:45:20.644608", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:45:20 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:20.696017", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:20.696866", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:20.731073", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:20.731824", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.272186", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.274217", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.360429", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.361547", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.405098", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.406106", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:45:21 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.446906", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.448354", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.491860", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:45:21.492577", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:49:33.321289", "level": "INFO", "message": "\u001b[2m2025-06-13T12:49:33.320903Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:49:33.360699", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:49:33.360579Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'missing', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Field required', 'input': {'role': 'user'}}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat/stream\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T09:49:55.716127", "level": "INFO", "message": "\u001b[2m2025-06-13T12:49:55.715706Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:49:55.752162", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:49:55.752048Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'string_type', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Input should be a valid string', 'input': [{'type': 'text', 'text': 'only the last message content'}]}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat/stream\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T09:50:20.984264", "level": "INFO", "message": "\u001b[2m2025-06-13T12:50:20.983938Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:50:21.029132", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:50:21.028968Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'missing', 'loc': ('body', 'messages', 0, 'content'), 'msg': 'Field required', 'input': {'role': 'user'}}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/chatbot/chat/stream\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.069824", "level": "INFO", "message": "\u001b[2m2025-06-13T12:51:25.069417Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.120832", "level": "INFO", "message": "\u001b[2m2025-06-13T12:51:25.120745Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.323344", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}, {'content': 'only the last message being sent', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.325247", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.369558", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.370466", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.669679", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13151f2b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.674439", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.728916", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.733165", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130f7af30>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.775044", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.777514", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.807414", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.808904", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.839965", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.843481", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:25 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.878872", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.879982", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.888412", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x131592f90>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.919982", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.921201", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.965985", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:25.968026", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:26.004909", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:26.046796", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:26.047335", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.075806", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:51:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1ece0c5228800802d33a3c003a3c'), (b'X-Saia-Req-Id', b'920e261d-d159-4e34-803d-0b2ab7af887b'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.078803", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.136146", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.137125", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.166800", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.167735", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.200702", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.201382", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.236247", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.238027", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:28.237950Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"920e261d-d159-4e34-803d-0b2ab7af887b\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.292783", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}, {'content': 'only the last message being sent', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.294455", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.325062", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.325627", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.354788", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.355316", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.525639", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.526505", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.588831", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.591188", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.620917", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.623469", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:28 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.652698", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.654220", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.690715", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:28.692129", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:29.904215", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:51:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1ed042a38803b3bbaa4043a8598b'), (b'X-Saia-Req-Id', b'cb5ecd7f-3556-44f1-95ae-37ea6cc7c0f3'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:29.905416", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:51:29.966349", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:51:29.967354", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.002113", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.002845", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.039382", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.040000", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.069688", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.071311", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:30.071232Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"cb5ecd7f-3556-44f1-95ae-37ea6cc7c0f3\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.122406", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}, {'content': 'only the last message being sent', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.124241", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.154971", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.155517", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.185298", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.185781", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.232130", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.232901", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.260648", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.261473", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.290640", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.291461", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:30 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.319356", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.319904", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.349351", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:30.349958", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.434446", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:51:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1ed2434669723772c497450222a0'), (b'X-Saia-Req-Id', b'8a2db072-81fc-4222-8c96-65707f3d36db'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.435340", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.484781", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.485674", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.514113", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.517028", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.556030", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.561577", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.593290", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.596550", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:31.596478Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"8a2db072-81fc-4222-8c96-65707f3d36db\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.641828", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:31.641741Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.645689", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:31.644750Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '5e41111b-a9fe-45db-6466-c9ee941c757a'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.892677", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.900592", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.971180", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:31.972617", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:32.007403", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:32.009092", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:32 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:32.040356", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:32.041048", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:32.070449", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:32.070987", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.490908", "level": "INFO", "message": "\u001b[2m2025-06-13T12:51:46.490195Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.533540", "level": "INFO", "message": "\u001b[2m2025-06-13T12:51:46.533437Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.714462", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}, {'content': 'only the last message being sent', 'role': 'user'}, {'content': 'what is the purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.716399", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.770955", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.771600", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.951510", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112daf950>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:46.954471", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.139327", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.143415", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x131539a90>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.150438", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112fabcd0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.209366", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.215221", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.264528", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.269588", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.303915", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.306030", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.345873", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.347526", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.385506", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.386296", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.416402", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:47 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.452742", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.453268", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.491152", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:47.491914", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:48.966112", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:51:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1ee3da0238781ae03b13365d4ff4'), (b'X-Saia-Req-Id', b'175e745e-6d3d-4030-9ff6-a668507afdf3'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:48.971363", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.023507", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.026185", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.056627", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.059364", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.091728", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.093424", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.123376", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.128601", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:49.128532Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"175e745e-6d3d-4030-9ff6-a668507afdf3\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m0\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.181468", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}, {'content': 'only the last message being sent', 'role': 'user'}, {'content': 'what is the purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.187999", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.219358", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.220986", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.252310", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.254184", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.559011", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.560434", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.614641", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.615292", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.654919", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.655729", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:49 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.698560", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.699282", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.735163", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:49.735705", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.378671", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:51:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1ee55de058df7887ee6f96b8c1fe'), (b'X-Saia-Req-Id', b'39b3dfc0-d5ff-4148-b887-2dde66ef0f5f'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.383407", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.438864", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.439773", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.470887", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.471829", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.502471", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.503110", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.535107", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.536709", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:50.536606Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m2\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"39b3dfc0-d5ff-4148-b887-2dde66ef0f5f\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.589622", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.\\n\\nFor more information, you can visit the [assistant-ui website](https://www.assistant-ui.com/blog/2024-07-29-hello) or check out the [GitHub repository](https://github.com/assistant-ui/assistant-ui).', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component specifically designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports various rich content formats, including markdown, code highlighting, charts, and tables, and offers customization options to suit different needs. Assistant-UI is useful for building GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly effective for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to build in-app AI assistants with a ChatGPT-like user experience. The library supports rich content such as markdown, code highlighting, charts, and tables, and it is customizable to fit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for building conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to build in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to create GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It allows developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content such as markdown, code highlighting, charts, and tables, and offers customization options to fit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': 'Assistant-UI is an open-source, embeddable AI chat component designed for React web applications. It enables developers to create in-app AI assistants with a user experience similar to ChatGPT. The library supports rich content formats such as markdown, code highlighting, charts, and tables, and offers customization options to suit various needs. Assistant-UI can be used to build GPT wrappers, in-app copilots, or agentic systems, and it integrates with major language model providers. It is particularly useful for developing conversational UIs that support streaming responses and human-in-the-loop interactions.', 'role': 'assistant'}, {'content': 'What is assistant-ui?', 'role': 'user'}, {'content': None, 'role': 'assistant', 'tool_calls': [{'type': 'function', 'id': 'call_FQqewGnD4TDlqSUbjN1CD2nE', 'function': {'name': 'duckduckgo_results_json', 'arguments': '{\"query\": \"assistant-ui\"}'}}]}, {'content': 'hola como andas?', 'role': 'user'}, {'content': 'hola', 'role': 'user'}, {'content': 'me podes decir que es un string', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'what is your purpose?', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'test', 'role': 'user'}, {'content': 'Failed to get a response from the LLM after 3 attempts', 'role': 'assistant'}, {'content': 'what is the purpose of this AI bot?', 'role': 'user'}, {'content': 'only the last message being sent', 'role': 'user'}, {'content': 'what is the purpose?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.591377", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.636845", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.637413", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.669859", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.670434", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.773731", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.774656", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.811465", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.812653", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.843236", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.843930", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:50 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.872838", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.873505", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.901937", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:50.903333", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.140739", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'', [(b'Date', b'Fri, 13 Jun 2025 12:51:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1ee6790830c6f9c33c4435698d4c'), (b'X-Saia-Req-Id', b'f04b0db0-007a-4628-9fde-601e25364c22'), (b'Saia-Module', b'ChatApi')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.142489", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"400 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.196075", "level": "DEBUG", "message": "Encountered httpx.HTTPStatusError", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1543, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.197936", "level": "DEBUG", "message": "Not retrying", "module": "_base_client", "function": "_should_retry", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 743, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.239125", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.240068", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.271875", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.272401", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.307710", "level": "DEBUG", "message": "Re-raising status error", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1561, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.309311", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:52.309229Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mllm_call_failed               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mattempt\u001b[0m=\u001b[35m3\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'data: {\"error\":{\"message\":\"litellm.BadRequestError: OpenAIException - An assistant message with \\'tool_calls\\' must be followed by tool messages responding to each \\'tool_call_id\\'. The following tool_call_ids did not have response messages: call_FQqewGnD4TDlqSUbjN1CD2nE. Received Model Group=openai/gpt-4o\\\\nAvailable Model Group Fallbacks=None\",\"code\":\"8024\",\"type\":\"invalid_request_error\",\"param\":\"messages.[17].role\"},\"requestId\":\"f04b0db0-007a-4628-9fde-601e25364c22\"}'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m152\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m2\u001b[0m \u001b[36mmax_retries\u001b[0m=\u001b[35m3\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 152, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.380551", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:52.380456Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.381945", "level": "ERROR", "message": "\u001b[2m2025-06-13T12:51:52.381104Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Failed to get a response from the LLM after 3 attempts'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m12b39cc3-3b6e-4953-83e0-bcc330a33d84\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2759, in astream\n    async for _ in runner.atick(\n    ...<7 lines>...\n            yield o\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 172, in _chat\n    raise Exception(f\"Failed to get a response from the LLM after {max_retries} attempts\")\nException: Failed to get a response from the LLM after 3 attempts\nDuring task with name 'chat' and id '3c42cfc6-5419-e390-2602-6a91bc438d12'", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.447846", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.448828", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.505961", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.506860", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.553061", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.553839", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:51:52 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.585785", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.586532", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.614871", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:51:52.615402", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:52:35.181086", "level": "INFO", "message": "\u001b[2m2025-06-13T12:52:35.180137Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:52:35.246701", "level": "INFO", "message": "\u001b[2m2025-06-13T12:52:35.246613Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T09:52:35.308895", "level": "INFO", "message": "\u001b[2m2025-06-13T12:52:35.308803Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T12:52:35.307943+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T09:52:35.310323", "level": "INFO", "message": "\u001b[2m2025-06-13T12:52:35.310071Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T12:52:35.307943+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T09:52:55.965828", "level": "INFO", "message": "\u001b[2m2025-06-13T12:52:55.965610Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T09:53:25.392793", "level": "INFO", "message": "\u001b[2m2025-06-13T12:53:25.392541Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.015374", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.025809", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x13150a0b0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.100494", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.101625", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.141252", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.143024", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:26.183245", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.186856", "level": "DEBUG", "message": "receive_response_headers.failed exception=ReadTimeout(TimeoutError('timed out'))", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.251862", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.253568", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.428276", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.437286", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1133d9f30>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.507915", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.512546", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.568720", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.570456", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.614085", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.697380", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'test', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.750343", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.751442", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.805953", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:46.987876", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112faba10>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.047257", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.194720", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x113333750>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.257208", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.258657", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.317532", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.319480", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.368231", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:47.957117", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 12:53:47 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c1f5b11b11a74cf2d88f81f295d55'), (b'X-Saia-Req-Id', b'c919acaf-d582-49c0-979f-90b4bcfcf253')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:48.023458", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T09:53:48.024222", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:48.095927", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:48.098464", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:48.179967", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T09:53:48.183359", "level": "INFO", "message": "\u001b[2m2025-06-13T12:53:48.183273Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T09:53:50.669832", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:53:50 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:50.670954", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:50.727062", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:50.727856", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:50.772883", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.280036", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.332364", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.334127", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.371789", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.373723", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.460571", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 12:53:51 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.463147", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.498654", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.500585", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T09:53:51.534885", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.106418", "level": "INFO", "message": "\u001b[2m2025-06-13T13:00:16.105181Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.208963", "level": "INFO", "message": "\u001b[2m2025-06-13T13:00:16.208871Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.290110", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'test', 'role': 'user'}, {'content': 'Hello! How can I assist you today?', 'role': 'assistant'}, {'content': 'what is the purpose of this assistant?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.340160", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.341077", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.375007", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.573965", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1100c8410>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.640986", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.737085", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.813520", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130ebfad0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.814946", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1315928d0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.816194", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.852355", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.853111", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.887264", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.887801", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.928483", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.929353", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.968406", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:16.968902", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.002963", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.038615", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:00:17 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.039263", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.074309", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.074980", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.111994", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.799436", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 13:00:17 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c20e1e02c6d8ed45ac14bdc9f2779'), (b'X-Saia-Req-Id', b'e76ac066-2e14-488c-9a20-86bfa546cb6a')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.863838", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T10:00:17.864675", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.123343", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.124171", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.197122", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.198670", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.240650", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.241638", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:00:18 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.281491", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.282313", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.322214", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:18.323745", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.350470", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.352735", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.410074", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.414199", "level": "INFO", "message": "\u001b[2m2025-06-13T13:00:21.414132Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.887263", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.887960", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.939923", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.940484", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.975873", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:21.976509", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:00:22 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:22.006212", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:22.006803", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:22.036643", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:22.037267", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:39.918301", "level": "INFO", "message": "\u001b[2m2025-06-13T13:00:39.918186Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T10:00:47.763031", "level": "INFO", "message": "\u001b[2m2025-06-13T13:00:47.762916Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.361419", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.364152", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x131590590>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.440290", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.441428", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.495102", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.496123", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:00:48.553632", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.411011", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'test', 'role': 'user'}, {'content': 'Hello! How can I assist you today?', 'role': 'assistant'}, {'content': 'what is the purpose of this assistant?', 'role': 'user'}, {'content': \"The purpose of this assistant is to help answer your questions and provide information in a friendly and professional manner. Whether you need help with general knowledge, current events, or specific inquiries, I'm here to assist you as best as I can. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what was the first text i sent to you?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.488652", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.489500", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.553269", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.697861", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112ff5350>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.738510", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.911567", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13154c350>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.979543", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:02.981474", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.021157", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.022992", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.062108", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.659319", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 13:01:03 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c210f98eaa0030dbe9cac56c44e14'), (b'X-Saia-Req-Id', b'a5e0760b-b081-43ef-94d4-cd05d2a8aa64')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.749407", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.750927", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.861807", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.863140", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.989286", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:03.993384", "level": "INFO", "message": "\u001b[2m2025-06-13T13:01:03.993280Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T10:01:04.529825", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:01:04 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:04.530724", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:04.596854", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:04.597682", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:04.663937", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:05.171764", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:05.232253", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:05.234532", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:05.279637", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:05.282575", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:06.350027", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:01:06 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:06.351099", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:06.412762", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:06.413516", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:06.461436", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:33.668740", "level": "INFO", "message": "\u001b[2m2025-06-13T13:01:33.668663Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T10:01:47.557605", "level": "INFO", "message": "\u001b[2m2025-06-13T13:01:47.557328Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T10:01:47.769561", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 08:41:43\\n\", 'role': 'system'}, {'content': 'test', 'role': 'user'}, {'content': 'Hello! How can I assist you today?', 'role': 'assistant'}, {'content': 'what is the purpose of this assistant?', 'role': 'user'}, {'content': \"The purpose of this assistant is to help answer your questions and provide information in a friendly and professional manner. Whether you need help with general knowledge, current events, or specific inquiries, I'm here to assist you as best as I can. If there's anything specific you need help with, feel free to ask!\", 'role': 'assistant'}, {'content': 'what was the first text i sent to you?', 'role': 'user'}, {'content': 'The first text you sent to me was \"test.\"', 'role': 'assistant'}, {'content': 'what is uruguay? send in markdown format with 1 or 2 titles', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T10:01:47.966293", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:47.967211", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.007977", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.093583", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.127016", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112fa9de0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.127949", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.161529", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.162287", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.196066", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.197390", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.202129", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x130f752b0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.231836", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:01:48 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.234404", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x112ddc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.271036", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.307439", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.313721", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.349009", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.416992", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1133600c0>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.454709", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.457054", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.489791", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.491553", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:48.523793", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.245419", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 13:01:49 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c213c0282d71d4d3c3ee787e69d5d'), (b'X-Saia-Req-Id', b'4d67681b-2695-4411-9052-496f98aff8a5')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.297978", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.300754", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.360851", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.362716", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.418151", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.419196", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.460920", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.462268", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:01:49 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.591225", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.592429", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.646335", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:49.647039", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.509985", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.511542", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.589787", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.594622", "level": "INFO", "message": "\u001b[2m2025-06-13T13:01:53.594206Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.721842", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.722674", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.772137", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.772743", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.807099", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.807938", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:01:53 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.843930", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.844618", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.874833", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:01:53.875274", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:02.231039", "level": "INFO", "message": "\u001b[2m2025-06-13T13:18:02.230524Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T10:18:02.311483", "level": "INFO", "message": "\u001b[2m2025-06-13T13:18:02.311393Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T10:18:02.452821", "level": "WARNING", "message": "discarding closed connection: <psycopg.AsyncConnection [BAD] at 0x130f13050>", "module": "pool_async", "function": "_return_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 744, "environment": "development"}
{"timestamp": "2025-06-13T10:18:02.471490", "level": "ERROR", "message": "\u001b[2m2025-06-13T13:18:02.471397Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T10:18:02.551687", "level": "ERROR", "message": "\u001b[2m2025-06-13T13:18:02.523359Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m48ad30e5-104c-4c1b-a5a4-9b82c19d186c\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2704, in astream\n    async with AsyncPregelLoop(\n               ~~~~~~~~~~~~~~~^\n        input,\n        ^^^^^^\n    ...<17 lines>...\n        migrate_checkpoint=self._migrate_checkpoint,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ) as loop:\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/loop.py\", line 1208, in __aenter__\n    saved = await self.checkpointer.aget_tuple(self.checkpoint_config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/checkpoint/postgres/aio.py\", line 187, in aget_tuple\n    await cur.execute(\n    ...<3 lines>...\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg/cursor_async.py\", line 97, in execute\n    raise ex.with_traceback(None)\npsycopg.OperationalError: consuming input failed: server closed the connection unexpectedly\n\tThis probably means the server terminated abnormally\n\tbefore or while processing the request.", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T10:18:02.935514", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.000419", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112fab540>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.000977", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.033680", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.034206", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.070311", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.070938", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.103127", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 13:18:03 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.103817", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.139029", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.139555", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T10:18:03.171829", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:22:10.903380", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:22:10.901005Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'missing', 'loc': ('body', 'username'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': None}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/auth/login\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T11:24:02.137552", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:24:02.136378Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'missing', 'loc': ('body', 'username'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': None}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/auth/login\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.118667", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.182225", "level": "DEBUG", "message": "Calling on_field_name with data[0:5]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.182995", "level": "DEBUG", "message": "Calling on_field_data with data[6:24]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.229867", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.231068", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.277918", "level": "DEBUG", "message": "Calling on_field_name with data[25:33]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.280013", "level": "DEBUG", "message": "Calling on_field_data with data[34:43]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.314397", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.314871", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:14.366195", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:28:14.365833Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'missing', 'loc': ('body', 'username'), 'msg': 'Field required', 'input': None}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/auth/login\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.090079", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.155227", "level": "DEBUG", "message": "Calling on_field_name with data[0:5]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.155785", "level": "DEBUG", "message": "Calling on_field_data with data[6:24]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.192005", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.192499", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.228547", "level": "DEBUG", "message": "Calling on_field_name with data[25:33]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.229154", "level": "DEBUG", "message": "Calling on_field_data with data[34:43]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.264901", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.265523", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:28:27.300490", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:28:27.300322Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m127.0.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'missing', 'loc': ('body', 'username'), 'msg': 'Field required', 'input': None}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/auth/login\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T11:30:29.899114", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:30:29.974722", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:30:29.988679", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:30:30.042194", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:30:30.044594", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:30:30.093667", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:30:30.095827", "level": "DEBUG", "message": "Calling on_field_data with data[37:43]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:30:30.145035", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:30:30.146166", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:31:16.948227", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:31:16.954868", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.220137", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.224181", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.262298", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.265108", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.304239", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.309663", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.346209", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:31:17.675077", "level": "INFO", "message": "\u001b[2m2025-06-13T14:31:17.674916Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:31:17.662079+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.436696", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.503149", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.506024", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.554490", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.555765", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.591517", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.592982", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.631038", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.631533", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.976801", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:15.976515Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:39:15.969936+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:39:15.990955", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:15.990885Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:39:16.080698", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:16.080416Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T11:39:16.082932", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:16.082877Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:39:16.082754+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:39:16.116817", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:16.116734Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:39:16.082754+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T11:39:25.811706", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:25.810884Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:39:25.900201", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:25.900093Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T11:39:25.997297", "level": "WARNING", "message": "discarding closed connection: <psycopg.AsyncConnection [BAD] at 0x1315f1eb0>", "module": "pool_async", "function": "_return_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 744, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.070092", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:39:26.069997Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.078908", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:39:26.070983Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2704, in astream\n    async with AsyncPregelLoop(\n               ~~~~~~~~~~~~~~~^\n        input,\n        ^^^^^^\n    ...<17 lines>...\n        migrate_checkpoint=self._migrate_checkpoint,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ) as loop:\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/loop.py\", line 1208, in __aenter__\n    saved = await self.checkpointer.aget_tuple(self.checkpoint_config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/checkpoint/postgres/aio.py\", line 187, in aget_tuple\n    await cur.execute(\n    ...<3 lines>...\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg/cursor_async.py\", line 97, in execute\n    raise ex.with_traceback(None)\npsycopg.OperationalError: consuming input failed: server closed the connection unexpectedly\n\tThis probably means the server terminated abnormally\n\tbefore or while processing the request.", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.474207", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.476818", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x13156bed0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.540788", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.543745", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.585164", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.587676", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.621981", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.622744", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:39:26 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.658189", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.659030", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.694680", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:26.695191", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:44.811248", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:44.808275Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:39:44.942313", "level": "INFO", "message": "\u001b[2m2025-06-13T14:39:44.942196Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.073642", "level": "WARNING", "message": "discarding closed connection: <psycopg.AsyncConnection [BAD] at 0x131530160>", "module": "pool_async", "function": "_return_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 744, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.079856", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:39:45.079757Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.128132", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:39:45.126647Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2704, in astream\n    async with AsyncPregelLoop(\n               ~~~~~~~~~~~~~~~^\n        input,\n        ^^^^^^\n    ...<17 lines>...\n        migrate_checkpoint=self._migrate_checkpoint,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ) as loop:\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/loop.py\", line 1208, in __aenter__\n    saved = await self.checkpointer.aget_tuple(self.checkpoint_config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/checkpoint/postgres/aio.py\", line 187, in aget_tuple\n    await cur.execute(\n    ...<3 lines>...\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg/cursor_async.py\", line 97, in execute\n    raise ex.with_traceback(None)\npsycopg.OperationalError: consuming input failed: server closed the connection unexpectedly\n\tThis probably means the server terminated abnormally\n\tbefore or while processing the request.", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.575145", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.644512", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x13156a490>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.645510", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.685353", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.685956", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.724982", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.725651", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.761474", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:39:45 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.762119", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.796489", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.796931", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:39:45.837076", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.177721", "level": "INFO", "message": "\u001b[2m2025-06-13T14:41:14.177284Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.411871", "level": "INFO", "message": "\u001b[2m2025-06-13T14:41:14.411763Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.455065", "level": "WARNING", "message": "discarding closed connection: <psycopg.AsyncConnection [BAD] at 0x1315306b0>", "module": "pool_async", "function": "_return_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 744, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.519908", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:41:14.519821Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.525053", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:41:14.521629Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m509f728f-4d4c-4946-a2b1-be10cdc4fe4a\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2704, in astream\n    async with AsyncPregelLoop(\n               ~~~~~~~~~~~~~~~^\n        input,\n        ^^^^^^\n    ...<17 lines>...\n        migrate_checkpoint=self._migrate_checkpoint,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ) as loop:\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/loop.py\", line 1208, in __aenter__\n    saved = await self.checkpointer.aget_tuple(self.checkpoint_config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/checkpoint/postgres/aio.py\", line 187, in aget_tuple\n    await cur.execute(\n    ...<3 lines>...\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg/cursor_async.py\", line 97, in execute\n    raise ex.with_traceback(None)\npsycopg.OperationalError: consuming input failed: server closed the connection unexpectedly\n\tThis probably means the server terminated abnormally\n\tbefore or while processing the request.", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.946293", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:14.947923", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x130ebfec0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.007633", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.008353", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.055159", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.056028", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.100628", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.102341", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:41:15 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.153799", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.154605", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.222345", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:15.223032", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:41:47.997545", "level": "INFO", "message": "\u001b[2m2025-06-13T14:41:47.997152Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T11:42:00.109458", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:00.107894Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T11:42:02.767974", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:02.767867Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T11:42:07.454032", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:07.453953Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T11:42:09.039215", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:09.039122Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T11:42:09.078166", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:09.078101Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.450677", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.457490", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.528294", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.530359", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.568473", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.569536", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.606626", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.607544", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.645207", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:42:28.961031", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:28.960897Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:42:28.947222+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:42:29.074845", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:29.073127Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:42:29.122741", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:29.122651Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mfaf699c8-37dc-4cd4-993b-47464c38c32a\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T11:42:29.263719", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:29.263604Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:42:29.263254+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mfaf699c8-37dc-4cd4-993b-47464c38c32a\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:42:29.267417", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:29.267091Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:42:29.263254+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mfaf699c8-37dc-4cd4-993b-47464c38c32a\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T11:42:38.139249", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:38.138991Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mfaf699c8-37dc-4cd4-993b-47464c38c32a\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:42:38.226692", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:38.226604Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mfaf699c8-37dc-4cd4-993b-47464c38c32a\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T11:42:38.304133", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:38.304056Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T11:42:38.360952", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:38.360884Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T11:42:38.900452", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:38.905607", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1359d52b0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.021846", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.022875", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.063594", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 11:42:08\\n\", 'role': 'system'}, {'content': 'why globant?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.087398", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.088907", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.148877", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.210381", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.338935", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1359d6120>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.368752", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:42:39 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.398193", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1178dc290> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.399436", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.452465", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.504528", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.505297", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.643677", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117c8b110>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.648741", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.696264", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.698112", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.737838", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:39.741767", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.069517", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.070178", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.140449", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.141150", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.186115", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.186759", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:42:40 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.233253", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.233892", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.279737", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.280335", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.585698", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 14:42:40 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=8bbd9136-61a7-4a0e-86d2-abff6e2e9ea5; Max-Age=1033313047; Expires=Tue, 12 Mar 2058 06:06:46 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=bLolLK1vSZoRrjN8YInmF0LHu3dU3VzLF4jv2hvPDi0%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c38dfeabc30c2aa4d79ba45a41092'), (b'X-Saia-Req-Id', b'da9bdd24-8181-4608-8e9f-1688d5d6cb3b')])", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.589812", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.655907", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.834917", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.904153", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.907173", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.959914", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:40.994088", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:41.059413", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:42:41 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:41.061031", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:41.119187", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:41.119856", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:41.173051", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:51.680173", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:51.929098", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:51.930089", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.011605", "level": "INFO", "message": "\u001b[2m2025-06-13T14:42:52.011374Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mfaf699c8-37dc-4cd4-993b-47464c38c32a\u001b[0m", "module": "graph", "function": "_chat", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.242064", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.294621", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.296170", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.402551", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x117c22e90>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.423278", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.469176", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.471109", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.520970", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.522605", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.559991", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:42:52 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.564723", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.601681", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.606427", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:42:52.652625", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.434535", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.522826", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.525267", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.612219", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.616013", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.690438", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.691358", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.754092", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:44:13.754924", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.178740", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:04.176928Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:04.164333+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.186089", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.273765", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.274489", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.345063", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.346044", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.413466", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.414232", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.475740", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:04.476726", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:23.605163", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:23.604844Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:23.602048+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:45:23.630026", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:23.629861Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:45:23.805463", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:23.805350Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m0b4e69dd-d757-4da1-b33c-b099ad543477\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T11:45:23.808552", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:23.808481Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:23.807849+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m0b4e69dd-d757-4da1-b33c-b099ad543477\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:45:23.875192", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:23.875083Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:23.807849+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m0b4e69dd-d757-4da1-b33c-b099ad543477\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.742071", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.797210", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.797792", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.835140", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.835716", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.877003", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.877755", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.919182", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:50.919673", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:45:51.240351", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:51.240212Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:51.239444+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:45:51.252322", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:51.252238Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:45:51.345947", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:51.345859Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35maa09d1e7-c92c-44dd-ac25-ce2cc8a512bf\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T11:45:51.347847", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:51.347804Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:51.347683+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35maa09d1e7-c92c-44dd-ac25-ce2cc8a512bf\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:45:51.387082", "level": "INFO", "message": "\u001b[2m2025-06-13T14:45:51.386993Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:45:51.347683+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35maa09d1e7-c92c-44dd-ac25-ce2cc8a512bf\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.656865", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.741792", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.744108", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.795351", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.798436", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.836099", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.839704", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.876230", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:46:14.877073", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T11:46:15.190675", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:15.190548Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:46:15.189928+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:46:15.199291", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:15.199168Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:46:15.271943", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:15.271855Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T11:46:15.273487", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:15.273439Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:46:15.273300+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:46:15.311337", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:15.311252Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T14:46:15.273300+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T11:46:22.962084", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:22.961988Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.047913", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:23.047814Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.094548", "level": "WARNING", "message": "discarding closed connection: <psycopg.AsyncConnection [BAD] at 0x117a99a90>", "module": "pool_async", "function": "_return_connection", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg_pool/pool_async.py", "line": 744, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.139950", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:46:23.139646Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mError in stream processing    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mget_stream_response\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m338\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m", "module": "graph", "function": "get_stream_response", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 338, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.192150", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:46:23.145971Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mstream_chat_request_failed    \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'consuming input failed: server closed the connection unexpectedly\\n\\tThis probably means the server terminated abnormally\\n\\tbefore or while processing the request.'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mevent_generator\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m128\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mb0327615-4025-4144-865c-1bd8e8359e7f\u001b[0m\nTraceback (most recent call last):\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py\", line 116, in event_generator\n    async for chunk in agent.get_stream_response(\n    ...<4 lines>...\n        yield f\"data: {json.dumps(response.model_dump())}\\n\\n\"\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 339, in get_stream_response\n    raise stream_error\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\", line 328, in get_stream_response\n    async for token, _ in self._graph.astream(\n    ...<7 lines>...\n            continue\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py\", line 2704, in astream\n    async with AsyncPregelLoop(\n               ~~~~~~~~~~~~~~~^\n        input,\n        ^^^^^^\n    ...<17 lines>...\n        migrate_checkpoint=self._migrate_checkpoint,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ) as loop:\n    ^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/pregel/loop.py\", line 1208, in __aenter__\n    saved = await self.checkpointer.aget_tuple(self.checkpoint_config)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/langgraph/checkpoint/postgres/aio.py\", line 187, in aget_tuple\n    await cur.execute(\n    ...<3 lines>...\n    )\n  File \"/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/psycopg/cursor_async.py\", line 97, in execute\n    raise ex.with_traceback(None)\npsycopg.OperationalError: consuming input failed: server closed the connection unexpectedly\n\tThis probably means the server terminated abnormally\n\tbefore or while processing the request.", "module": "chatbot", "function": "event_generator", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/api/v1/chatbot.py", "line": 128, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.586825", "level": "DEBUG", "message": "connect_tcp.started host='localhost' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.588338", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x117c23ed0>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.641178", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.641784", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.680629", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.681357", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.718767", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.719523", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 401, b'Unauthorized', [(b'Cache-Control', b'no-store'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-Xss-Protection', b'1; mode=block'), (b'Date', b'Fri, 13 Jun 2025 14:46:23 GMT'), (b'Content-Length', b'121')])", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.756157", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.756855", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.791264", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:23.791864", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T11:46:36.685138", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:36.685008Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T11:46:40.707925", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:40.706878Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T11:46:41.305833", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:41.305735Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T11:46:42.112356", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:42.112283Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T11:46:42.589283", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:42.589188Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T11:46:42.612670", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:42.612603Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T11:46:57.721067", "level": "INFO", "message": "\u001b[2m2025-06-13T14:46:57.720878Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/Users/jorge.davison/Documents/workspace/playground/fastapi-langgraph-agent-production-ready-template/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T14:52:12.621317", "level": "INFO", "message": "\u001b[2m2025-06-13T14:52:12.621224Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:52:14.985163", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:52:14.984999Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:54:11.906095", "level": "INFO", "message": "\u001b[2m2025-06-13T14:54:11.905984Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:54:13.083113", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:54:13.080146Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:54:15.458696", "level": "INFO", "message": "\u001b[2m2025-06-13T14:54:15.458556Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:54:16.263775", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:54:16.262283Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:05.405583", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:05.405504Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:06.739572", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:06.739464Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:08.403503", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:08.403421Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:08.864323", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:08.864225Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:10.331635", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:10.331572Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:10.794973", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:10.794886Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:12.452871", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:12.452772Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:13.313401", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:13.313019Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:16.424209", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:16.424132Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:17.336774", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:17.336616Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:21.452648", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:21.452570Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:21.940068", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:21.939964Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:26.533215", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:26.533132Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:27.027317", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:27.027219Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:34.593482", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:34.591385Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:34.924403", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:34.924313Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:55:49.059926", "level": "INFO", "message": "\u001b[2m2025-06-13T14:55:49.059858Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:55:49.448828", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:55:49.448732Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:56:16.378255", "level": "INFO", "message": "\u001b[2m2025-06-13T14:56:16.378185Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:56:16.900687", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:56:16.900567Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused\\n\\tIs the server running on that host and accepting TCP/IP connections?\\n\\n(Background on this error at: https://sqlalche.me/e/20/e3q8)'\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:01.333091", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:01.333006Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:02.392243", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:02.392159Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:03.827725", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:03.827646Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:04.190547", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:04.190464Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:06.681063", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:06.680985Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:07.460284", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:07.460163Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:10.311722", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:10.311635Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:11.165126", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:11.164988Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:13.967856", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:13.967774Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:14.447342", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:14.447236Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:17.280632", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:17.280566Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:17.678812", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:17.678729Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:22.123525", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:22.123460Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:22.487555", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:22.487468Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:30.113178", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:30.113104Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:30.445708", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:30.445634Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:57:44.920110", "level": "INFO", "message": "\u001b[2m2025-06-13T14:57:44.920044Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:57:45.310153", "level": "ERROR", "message": "\u001b[2m2025-06-13T14:57:45.310053Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mdatabase_initialization_error \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merror\u001b[0m=\u001b[35m'Could not parse SQLAlchemy URL from string \\'\"postgresql://postgres:postgres@postgres/bot\"\\''\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m62\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 62, "environment": "development"}
{"timestamp": "2025-06-13T14:58:08.986058", "level": "INFO", "message": "\u001b[2m2025-06-13T14:58:08.985982Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T14:58:10.446747", "level": "INFO", "message": "\u001b[2m2025-06-13T14:58:10.446636Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T14:58:11.716969", "level": "INFO", "message": "\u001b[2m2025-06-13T14:58:11.716883Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T14:58:12.989146", "level": "INFO", "message": "\u001b[2m2025-06-13T14:58:12.989054Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T14:58:13.200152", "level": "INFO", "message": "\u001b[2m2025-06-13T14:58:13.200029Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T14:58:31.491523", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T14:58:31.639588", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T14:58:31.671074", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T14:58:31.814124", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T14:58:31.899748", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T14:58:32.121758", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T14:58:32.176080", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T14:58:32.287647", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T14:58:32.320954", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:00:36.693171", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:36.692794Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1muser_created                  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36memail\u001b[0m=\u001b[35muser@example.com\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_user\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m82\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "create_user", "filename": "/app/app/services/database.py", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T15:00:36.814917", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:36.814768Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:00:36.764802+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.303872", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.357201", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.495528", "level": "DEBUG", "message": "Calling on_field_data with data[9:27]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.539253", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.689288", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.772085", "level": "DEBUG", "message": "Calling on_field_name with data[28:36]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.897657", "level": "DEBUG", "message": "Calling on_field_data with data[37:46]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:00:44.934043", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:00:45.071199", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:00:45.397674", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:45.397470Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:00:45.396579+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:00:45.525633", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:45.525554Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:00:45.588958", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:45.588856Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m42c0749a-1ded-43f7-ac4c-d64e421a5ada\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "database", "function": "create_session", "filename": "/app/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T15:00:45.768320", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:45.768210Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:00:45.768016+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m42c0749a-1ded-43f7-ac4c-d64e421a5ada\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:00:45.803451", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:45.803293Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:00:45.768016+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m42c0749a-1ded-43f7-ac4c-d64e421a5ada\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m1\u001b[0m", "module": "auth", "function": "create_session", "filename": "/app/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T15:00:58.993636", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:58.993476Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m42c0749a-1ded-43f7-ac4c-d64e421a5ada\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:00:59.059561", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:59.059354Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m42c0749a-1ded-43f7-ac4c-d64e421a5ada\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/app/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T15:00:59.329967", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:59.329882Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T15:00:59.450616", "level": "INFO", "message": "\u001b[2m2025-06-13T15:00:59.450533Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T15:00:59.697252", "level": "DEBUG", "message": "Starting new HTTPS connection (1): openaipublic.blob.core.windows.net:443", "module": "connectionpool", "function": "_new_conn", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 1049, "environment": "development"}
{"timestamp": "2025-06-13T15:00:59.830402", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:00.278807", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:00.771761", "level": "DEBUG", "message": "https://openaipublic.blob.core.windows.net:443 \"GET /encodings/o200k_base.tiktoken HTTP/1.1\" 200 3613922", "module": "connectionpool", "function": "_make_request", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 544, "environment": "development"}
{"timestamp": "2025-06-13T15:01:01.143332", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:01.493898", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:02.317747", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:02.731821", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:02.848695", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/app/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T15:01:10.093408", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 14:58:12\\n\", 'role': 'system'}, {'content': 'what is globant?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T15:01:10.220366", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:10.411582", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:10.673416", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfd5841207230>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:10.751377", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0xfd58430cdfd0> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:10.850994", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.056963", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfd5840ff7d90>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.258334", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.308300", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.405769", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.441779", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.526693", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:11.891368", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:12.124067", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 15:01:12 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=473760a1-6979-4d15-aee4-3a620aa3a10c; Max-Age=1033311936; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=G5Xg22nxM4MJ4rcIVs%2Bp4QNHlW1bhuaI1BUeH85WXSI%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c3d3773afa56462d22ebf8891ca80'), (b'X-Saia-Req-Id', b'6ce983b6-702d-49ff-9d6a-a77b6daa45cd')])", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:12.172374", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T15:01:12.332842", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:12.353868", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:14.090431", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:14.422789", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:14.442689", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:14.505703", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:14.629028", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/app/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T15:01:14.676568", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:01:15.010847", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:15.010142Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m42c0749a-1ded-43f7-ac4c-d64e421a5ada\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T15:01:15.419269", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:15.789410", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:15.936555", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:16.279341", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:17.564060", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:17.950538", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:01:18.058317", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/app/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T15:01:49.272237", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:49.270304Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T15:01:54.158590", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:54.158505Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T15:01:54.656211", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:54.656092Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T15:01:55.397146", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:55.396724Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T15:01:55.712718", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:55.712628Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T15:01:55.949518", "level": "INFO", "message": "\u001b[2m2025-06-13T15:01:55.949433Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:02:39.554754", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:39.554404Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1muser_created                  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36memail\u001b[0m=\u001b[35muser2@example.com\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_user\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m82\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "create_user", "filename": "/app/app/services/database.py", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T15:02:39.798417", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:39.798163Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:02:39.762581+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m2\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:02:53.926034", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.067039", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.115714", "level": "DEBUG", "message": "Calling on_field_data with data[9:28]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.221229", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.246108", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.350208", "level": "DEBUG", "message": "Calling on_field_name with data[29:37]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.377353", "level": "DEBUG", "message": "Calling on_field_data with data[38:47]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.491119", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:02:54.639406", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:02:55.010932", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:55.010757Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:02:55.009973+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m2\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:02:55.064728", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:55.064633Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m2\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:02:55.253165", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:55.253042Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m41af6f80-7919-4c75-9334-1ac6839ec056\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m2\u001b[0m", "module": "database", "function": "create_session", "filename": "/app/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T15:02:55.295865", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:55.295754Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:02:55.295562+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m41af6f80-7919-4c75-9334-1ac6839ec056\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:02:55.448867", "level": "INFO", "message": "\u001b[2m2025-06-13T15:02:55.448611Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:02:55.295562+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m41af6f80-7919-4c75-9334-1ac6839ec056\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m2\u001b[0m", "module": "auth", "function": "create_session", "filename": "/app/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T15:03:11.929172", "level": "INFO", "message": "\u001b[2m2025-06-13T15:03:11.928482Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m41af6f80-7919-4c75-9334-1ac6839ec056\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:03:12.090082", "level": "INFO", "message": "\u001b[2m2025-06-13T15:03:12.089928Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m41af6f80-7919-4c75-9334-1ac6839ec056\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/app/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T15:03:12.236218", "level": "INFO", "message": "\u001b[2m2025-06-13T15:03:12.236036Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T15:03:12.402285", "level": "INFO", "message": "\u001b[2m2025-06-13T15:03:12.402195Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T15:03:12.823341", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:12.848331", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 15:01:55\\n\", 'role': 'system'}, {'content': 'what is globant? send in text markdown', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T15:03:13.016878", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:13.255483", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:13.564359", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfa3cf27aa7b0>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:13.733199", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0xfa3cf41cfd10> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.002992", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfa3cf27f6c10>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.170416", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.210377", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.298374", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.469544", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.583845", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.636567", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:14.718747", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:15.428103", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 15:03:15 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=dac291e9-a1b3-408d-94f6-5fe1ef30127c; Max-Age=1033311813; Expires=Tue, 12 Mar 2058 06:06:47 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=i2hKDDKnPYjDqoAcIqySWWGtemsWeZfJ5KnfPd0QLZ8%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c3db283ab0f844a020060e1d227b7'), (b'X-Saia-Req-Id', b'0a50d40a-0420-4d15-9beb-63986699ac90')])", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:15.569535", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T15:03:15.652974", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:15.676900", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:16.174416", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:16.356858", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/app/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T15:03:16.976471", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:17.453328", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:17.555817", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:17.959413", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:18.684491", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:18.730390", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:18.943664", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:19.069624", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:03:19.148426", "level": "INFO", "message": "\u001b[2m2025-06-13T15:03:19.148295Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35m41af6f80-7919-4c75-9334-1ac6839ec056\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T15:03:19.165478", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:19.322504", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/app/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T15:03:19.894593", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:20.255500", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:20.705660", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:21.046854", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:22.926553", "level": "DEBUG", "message": "connect_tcp.started host='langfuse' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:23.309838", "level": "DEBUG", "message": "connect_tcp.failed exception=ConnectError(gaierror(-3, 'Temporary failure in name resolution'))", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:03:23.451283", "level": "ERROR", "message": "Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.", "module": "parse_error", "function": "handle_exception", "filename": "/app/.venv/lib/python3.13/site-packages/langfuse/parse_error.py", "line": 102, "environment": "development"}
{"timestamp": "2025-06-13T15:03:39.441222", "level": "INFO", "message": "\u001b[2m2025-06-13T15:03:39.439361Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 53, "environment": "development"}
{"timestamp": "2025-06-13T15:04:22.651697", "level": "INFO", "message": "\u001b[2m2025-06-13T15:04:22.651623Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mlogging_initialized           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mlogging.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m<module>\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m177\u001b[0m \u001b[36mlog_format\u001b[0m=\u001b[35mconsole\u001b[0m \u001b[36mlog_level\u001b[0m=\u001b[35mDEBUG\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mlogging\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/logging.py\u001b[0m", "module": "logging", "function": "<module>", "filename": "/app/app/core/logging.py", "line": 177, "environment": "development"}
{"timestamp": "2025-06-13T15:04:23.851117", "level": "INFO", "message": "\u001b[2m2025-06-13T15:04:23.851011Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T15:04:24.941084", "level": "INFO", "message": "\u001b[2m2025-06-13T15:04:24.941005Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mdatabase_initialized          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m55\u001b[0m \u001b[36mmax_overflow\u001b[0m=\u001b[35m10\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36mpool_size\u001b[0m=\u001b[35m5\u001b[0m", "module": "database", "function": "__init__", "filename": "/app/app/services/database.py", "line": 55, "environment": "development"}
{"timestamp": "2025-06-13T15:04:25.604528", "level": "INFO", "message": "\u001b[2m2025-06-13T15:04:25.604406Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_initialized               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m__init__\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m69\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "__init__", "filename": "/app/app/core/langgraph/graph.py", "line": 69, "environment": "development"}
{"timestamp": "2025-06-13T15:04:25.954583", "level": "INFO", "message": "\u001b[2m2025-06-13T15:04:25.954495Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_startup           \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mapi_prefix\u001b[0m=\u001b[35m/api/v1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m \u001b[36mproject_name\u001b[0m=\u001b[35m'Web Assistant'\u001b[0m \u001b[36mversion\u001b[0m=\u001b[35m1.0.0\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:04:48.156538", "level": "ERROR", "message": "\u001b[2m2025-06-13T15:04:48.156200Z\u001b[0m [\u001b[31m\u001b[1merror    \u001b[0m] \u001b[1mvalidation_error              \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36mclient_host\u001b[0m=\u001b[35m172.19.0.1\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36merrors\u001b[0m=\u001b[35m\"[{'type': 'too_short', 'loc': ('body', 'password'), 'msg': 'Value should have at least 8 items after validation, not 5', 'input': 'user3', 'ctx': {'field_type': 'Value', 'min_length': 8, 'actual_length': 5}}]\"\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mvalidation_exception_handler\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m88\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpath\u001b[0m=\u001b[35m/api/v1/auth/register\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "validation_exception_handler", "filename": "/app/app/main.py", "line": 88, "environment": "development"}
{"timestamp": "2025-06-13T15:05:35.481992", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:35.481699Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1muser_created                  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36memail\u001b[0m=\u001b[35muser3@example.com\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_user\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m82\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m", "module": "database", "function": "create_user", "filename": "/app/app/services/database.py", "line": 82, "environment": "development"}
{"timestamp": "2025-06-13T15:05:35.596527", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:35.596375Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:05:35.556658+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m3\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:05:44.664091", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:05:44.719061", "level": "DEBUG", "message": "Calling on_field_name with data[0:8]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:05:44.847967", "level": "DEBUG", "message": "Calling on_field_data with data[9:28]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:05:44.890133", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.028171", "level": "DEBUG", "message": "Calling on_field_start with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.061965", "level": "DEBUG", "message": "Calling on_field_name with data[29:37]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.202473", "level": "DEBUG", "message": "Calling on_field_data with data[38:47]", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 625, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.236371", "level": "DEBUG", "message": "Calling on_field_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.328173", "level": "DEBUG", "message": "Calling on_end with no data", "module": "multipart", "function": "callback", "filename": "/app/.venv/lib/python3.13/site-packages/python_multipart/multipart.py", "line": 628, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.684245", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:45.683983Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:05:45.677412+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m3\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.822745", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:45.822554Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35m3\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.873574", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:45.873481Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mdatabase.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m147\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mdatabase\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/services/database.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m3\u001b[0m", "module": "database", "function": "create_session", "filename": "/app/app/services/database.py", "line": 147, "environment": "development"}
{"timestamp": "2025-06-13T15:05:45.979341", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:45.979154Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:05:45.978893+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_access_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m46\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "auth", "function": "create_access_token", "filename": "/app/app/utils/auth.py", "line": 46, "environment": "development"}
{"timestamp": "2025-06-13T15:05:46.013828", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:46.013690Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1msession_created               \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mexpires_at\u001b[0m=\u001b[35m2025-07-13T15:05:45.978893+00:00\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_session\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m250\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mname\u001b[0m=\u001b[35m\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/auth.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m \u001b[36muser_id\u001b[0m=\u001b[35m3\u001b[0m", "module": "auth", "function": "create_session", "filename": "/app/app/api/v1/auth.py", "line": 250, "environment": "development"}
{"timestamp": "2025-06-13T15:05:54.600864", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:54.600603Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:05:54.674006", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:54.673912Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/app/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T15:05:54.868837", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:54.868713Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mconnection_pool_created       \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_get_connection_pool\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m113\u001b[0m \u001b[36mmax_size\u001b[0m=\u001b[35m5\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "_get_connection_pool", "filename": "/app/app/core/langgraph/graph.py", "line": 113, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.009904", "level": "INFO", "message": "\u001b[2m2025-06-13T15:05:55.009804Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mgraph_created                 \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mcreate_graph\u001b[0m \u001b[36mgraph_name\u001b[0m=\u001b[35m'Web Assistant Agent'\u001b[0m \u001b[36mhas_checkpointer\u001b[0m=\u001b[35mTrue\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m249\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m", "module": "graph", "function": "create_graph", "filename": "/app/app/core/langgraph/graph.py", "line": 249, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.345229", "level": "DEBUG", "message": "Starting new HTTPS connection (1): openaipublic.blob.core.windows.net:443", "module": "connectionpool", "function": "_new_conn", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 1049, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.367740", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.534647", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xfb0b28d67e00>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.584757", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.709720", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.793550", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.897465", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:55.922827", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:56.391537", "level": "DEBUG", "message": "https://openaipublic.blob.core.windows.net:443 \"GET /encodings/o200k_base.tiktoken HTTP/1.1\" 200 3613922", "module": "connectionpool", "function": "_make_request", "filename": "/app/.venv/lib/python3.13/site-packages/urllib3/connectionpool.py", "line": 544, "environment": "development"}
{"timestamp": "2025-06-13T15:05:58.284120", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 15:04:25\\n\", 'role': 'system'}, {'content': 'what is globant?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T15:05:58.418709", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:58.870286", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfb0b29b586e0>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.026868", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"ci48q5py175o\"'), (b'Content-Length', b'204'), (b'Date', b'Fri, 13 Jun 2025 15:05:59 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.050259", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0xfb0b301edf40> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.086062", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.275885", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.389733", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfb0b1a1f8190>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.427730", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.468313", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.572178", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.607724", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.741684", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.867839", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:05:59.921556", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.216691", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.274952", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.456001", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.637145", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.762722", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.787936", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"j6ybht6ik82e\"'), (b'Content-Length', b'86'), (b'Date', b'Fri, 13 Jun 2025 15:06:00 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.956237", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:00.982860", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.061628", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.086535", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.282865", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 15:06:01 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Set-Cookie', b'GX_CLIENT_ID=8c836d0d-62e7-47a4-bd38-1892a16d3143; Max-Age=1033311647; Expires=Tue, 12 Mar 2058 06:06:46 GMT; Path=/; Secure; HttpOnly'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Set-Cookie', b'GX_SESSION_ID=GOi0lm9Y2%2BFKVO0frgoxAz1%2BD0dg4EcpXguduaeQweM%3D; Secure; HttpOnly'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c3e5787b61c683d6a1386f56d3d66'), (b'X-Saia-Req-Id', b'3118452a-9830-4ccd-a175-f763f0934985')])", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.338165", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.494089", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.700219", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.862281", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:01.918730", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.049743", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.121600", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.285550", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"hri86cpf502e\"'), (b'Content-Length', b'86'), (b'Date', b'Fri, 13 Jun 2025 15:06:02 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.317038", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.466432", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.521911", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:02.674320", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.280858", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.406620", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.453912", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.584777", "level": "INFO", "message": "\u001b[2m2025-06-13T15:06:04.584425Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.724381", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.834648", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.867266", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.961317", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:04.987545", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:05.107277", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"b32gvbn0r2al\"'), (b'Content-Length', b'381'), (b'Date', b'Fri, 13 Jun 2025 15:06:05 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:05.180995", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:05.310000", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:05.395063", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:05.558329", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:16.828736", "level": "INFO", "message": "\u001b[2m2025-06-13T15:06:16.827906Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mtoken_verified                \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mauth.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mverify_token\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m80\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mauth\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/utils/auth.py\u001b[0m \u001b[36mthread_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "auth", "function": "verify_token", "filename": "/app/app/utils/auth.py", "line": 80, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.009643", "level": "INFO", "message": "\u001b[2m2025-06-13T15:06:17.008421Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mstream_chat_request_received  \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mchatbot.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mchat_stream\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m98\u001b[0m \u001b[36mmessage_count\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mchatbot\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/api/v1/chatbot.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "chatbot", "function": "chat_stream", "filename": "/app/app/api/v1/chatbot.py", "line": 98, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.277020", "level": "DEBUG", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'content': \"# Name: Web Assistant Agent\\n# Role: A world class assistant\\nHelp the user with their questions.\\n\\n# Instructions\\n- Always be friendly and professional.\\n- If you don't know the answer, say you don't know. Don't make up an answer.\\n- Try to give the most accurate answer possible.\\n\\n# Current date and time\\n2025-06-13 15:04:25\\n\", 'role': 'system'}, {'content': 'what is globant?', 'role': 'user'}, {'content': 'Globant is a technology services company that specializes in software development, IT services, and consulting. It is known for providing digital and cognitive transformation services to organizations worldwide. Globant helps companies reinvent their businesses by leveraging the latest technologies and methodologies, including artificial intelligence, machine learning, and agile development. The company works with a wide range of industries, including finance, healthcare, media, and entertainment, to deliver innovative solutions and enhance customer experiences. Globant is headquartered in Buenos Aires, Argentina, and has a global presence with offices in various countries.', 'role': 'assistant'}, {'content': 'can you reply in markdown with 1 or 2 titles?', 'role': 'user'}], 'model': 'openai/gpt-4o', 'max_completion_tokens': 2000, 'stream': True, 'temperature': 0.2, 'tools': [{'type': 'function', 'function': {'name': 'duckduckgo_results_json', 'description': 'A wrapper around Duck Duck Go Search. Useful for when you need to answer questions about current events. Input should be a search query.', 'parameters': {'properties': {'query': {'description': 'search query to look up', 'type': 'string'}}, 'required': ['query'], 'type': 'object'}}}], 'top_p': 0.8}}", "module": "_base_client", "function": "_build_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 453, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.408049", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.457239", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.606157", "level": "DEBUG", "message": "connect_tcp.started host='api.qa.saia.ai' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.637369", "level": "DEBUG", "message": "connect_tcp.started host='langfuse-web' port=3000 local_address=None timeout=20 socket_options=None", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.840311", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0xfb0b29876c10>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.859637", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfb0b29876fd0>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:17.922832", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.084356", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0xfb0b301edf40> server_hostname='api.qa.saia.ai' timeout=None", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.170773", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.323241", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.422462", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.479840", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0xfb0b2a1da190>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.518117", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.662206", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.796327", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"ndswjhq3fs7b\"'), (b'Content-Length', b'263'), (b'Date', b'Fri, 13 Jun 2025 15:06:18 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.854083", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:18.873963", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.030154", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.060476", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.180298", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.237981", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.371723", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.415284", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.864817", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'', [(b'Date', b'Fri, 13 Jun 2025 15:06:19 GMT'), (b'Content-Type', b'text/event-stream;charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'X-XSS-Protection', b'1; mode=block'), (b'Referrer-Policy', b'no-referrer'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'Permissions-Policy', b'accelerometer=(), autoplay=(), camera=(), cross-origin-isolated=(), display-capture=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), usb=(), web-share=(), xr-spatial-tracking=()'), (b'Content-Security-Policy', b'default-src'), (b'Expires', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Last-Modified', b'Thu, 01 Jan 1970 00:00:00 GMT'), (b'Cache-Control', b'max-age=0, no-cache, no-store, must-revalidate'), (b'Access-Control-Allow-Origin', b'*'), (b'X-Saia-Trace-Id', b'684c3e6b2e9e0bf02c78402654d4caf8'), (b'X-Saia-Req-Id', b'b66dd960-d77b-4a0e-b5c3-bcc5c373e88b')])", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:19.978717", "level": "DEBUG", "message": "HTTP Request: POST https://api.qa.saia.ai/chat/chat/completions \"200 \"", "module": "_base_client", "function": "_request", "filename": "/app/.venv/lib/python3.13/site-packages/openai/_base_client.py", "line": 1536, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.035580", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.217087", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.284728", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.488107", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.551379", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.694110", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.863308", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"d8uft6bqh12e\"'), (b'Content-Length', b'86'), (b'Date', b'Fri, 13 Jun 2025 15:06:20 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:20.982102", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.048818", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.218914", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.268158", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.504373", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.565470", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.699872", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "atrace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 87, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.766264", "level": "INFO", "message": "\u001b[2m2025-06-13T15:06:21.766156Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mllm_response_generated        \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mgraph.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35m_chat\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m143\u001b[0m \u001b[36mllm_calls_num\u001b[0m=\u001b[35m1\u001b[0m \u001b[36mmodel\u001b[0m=\u001b[35mopenai/gpt-4o\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mgraph\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/core/langgraph/graph.py\u001b[0m \u001b[36msession_id\u001b[0m=\u001b[35mf93e3ec1-0d7e-4a06-b212-53ca4e74ec80\u001b[0m", "module": "graph", "function": "_chat", "filename": "/app/app/core/langgraph/graph.py", "line": 143, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.907734", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:21.952358", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.090646", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.127946", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.246156", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.494470", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 207, b'Multi-Status', [(b'X-Robots-Tag', b'noindex'), (b'X-Content-Type-Options', b'nosniff'), (b'Referrer-Policy', b'strict-origin-when-cross-origin'), (b'Document-Policy', b'js-profiling'), (b'Permissions-Policy', b'autoplay=*, fullscreen=*, microphone=*'), (b'x-frame-options', b'SAMEORIGIN'), (b'Vary', b'Origin, Accept-Encoding'), (b'Content-Type', b'application/json; charset=utf-8'), (b'ETag', b'\"fax1upfnqpal\"'), (b'Content-Length', b'381'), (b'Date', b'Fri, 13 Jun 2025 15:06:22 GMT'), (b'Connection', b'keep-alive'), (b'Keep-Alive', b'timeout=5')])", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.630847", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.663627", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.751292", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:06:22.807357", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "filename": "/app/.venv/lib/python3.13/site-packages/httpcore/_trace.py", "line": 47, "environment": "development"}
{"timestamp": "2025-06-13T15:10:34.443046", "level": "INFO", "message": "\u001b[2m2025-06-13T15:10:34.441109Z\u001b[0m [\u001b[32m\u001b[1minfo     \u001b[0m] \u001b[1mapplication_shutdown          \u001b[0m [\u001b[0m\u001b[1m\u001b[34mapp.core.logging\u001b[0m]\u001b[0m \u001b[36menvironment\u001b[0m=\u001b[35mdevelopment\u001b[0m \u001b[36mfilename\u001b[0m=\u001b[35mmain.py\u001b[0m \u001b[36mfunc_name\u001b[0m=\u001b[35mlifespan\u001b[0m \u001b[36mlineno\u001b[0m=\u001b[35m53\u001b[0m \u001b[36mmodule\u001b[0m=\u001b[35mmain\u001b[0m \u001b[36mpathname\u001b[0m=\u001b[35m/app/app/main.py\u001b[0m", "module": "main", "function": "lifespan", "filename": "/app/app/main.py", "line": 53, "environment": "development"}
